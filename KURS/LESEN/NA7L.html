<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iTeIC Leseverstehen - TELC B2 Training</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #2196F3;
            --primary-dark: #1976D2;
            --secondary: #42A5F5;
            --secondary-dark: #1E88E5;
            --success: #4CAF50;
            --danger: #f44336;
            --warning: #FFC107;
            --light: #E3F2FD;
            --dark: #0D47A1;
            --text: #333;
            --text-light: #546E7A;
            --white: #ffffff;
            --shadow: 0 10px 30px rgba(33, 150, 243, 0.2);
            --shadow-hover: 0 20px 40px rgba(33, 150, 243, 0.3);
            --radius: 25px;
            --transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(135deg, var(--light) 0%, #BBDEFB 100%);
            color: var(--text);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            transition: var(--transition);
        }

        body.dark-mode {
            background: linear-gradient(135deg, var(--dark) 0%, var(--primary-dark) 100%);
            color: var(--light);
        }

        /* Header Controls - التعديل هنا */
        .header-controls {
            position: fixed;
            top: 20px;
            left: 20px;
            right: 20px;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            z-index: 1000;
            gap: 15px;
        }

        .left-controls {
            display: flex;
            flex-direction: column;
            gap: 10px;
            align-items: flex-start;
        }

        .right-controls {
            display: flex;
            gap: 15px;
            align-items: flex-start;
        }

        .control-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            cursor: pointer;
            box-shadow: var(--shadow);
            border: none;
            background: var(--primary);
            color: var(--white);
            position: relative;
            overflow: hidden;
            transition: var(--transition);
        }

        .control-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .control-btn:hover::before {
            width: 100%;
            height: 100%;
        }

        .control-btn:hover {
            transform: scale(1.15) rotate(5deg);
            box-shadow: 0 8px 25px rgba(33, 150, 243, 0.4);
        }

        /* شارة المشترك الذهبية - تم التعديل */
        .premium-badge-header {
            position: fixed;
            top: 20px;
            right: 90px; /* بجانب الأزرار */
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: #000;
            padding: 0.5rem;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 1.3rem;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
            z-index: 1000;
            display: none;
            align-items: center;
            justify-content: center;
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3); }
            to { box-shadow: 0 4px 20px rgba(255, 215, 0, 0.6); }
        }

        .home-btn {
            background: rgba(255, 255, 255, 0.95);
            border: 2px solid var(--primary);
            border-radius: 50px;
            padding: 0.5rem 1rem;
            cursor: pointer;
            font-weight: 600;
            color: var(--primary-dark);
            box-shadow: var(--shadow);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: var(--transition);
            font-size: 0.9rem;
            border: none;
            width: auto;
            height: auto;
        }

        .dark-mode .home-btn {
            background: rgba(13, 71, 161, 0.95);
            color: var(--light);
            border: 2px solid var(--secondary);
        }

        .home-btn:hover {
            background: var(--primary);
            color: var(--white);
            transform: translateY(-3px);
        }

        /* Language Selector */
        .language-selector {
            display: flex;
            position: relative;
        }

        .lang-btn {
            background: rgba(255, 255, 255, 0.95);
            border: 2px solid var(--primary);
            border-radius: var(--radius);
            padding: 0.5rem 1rem;
            cursor: pointer;
            font-weight: 600;
            color: var(--primary-dark);
            box-shadow: var(--shadow);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: var(--transition);
            border: none;
            width: auto;
            height: auto;
        }

        .dark-mode .lang-btn {
            background: rgba(13, 71, 161, 0.95);
            color: var(--light);
            border: 2px solid var(--secondary);
        }

        .lang-btn:hover {
            background: var(--primary);
            color: var(--white);
            transform: translateY(-3px);
        }

        .lang-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            margin-top: 0.5rem;
            background: var(--white);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            display: none;
            overflow: hidden;
            min-width: 120px;
            animation: dropdownSlide 0.3s ease;
            z-index: 1001;
        }

        .dark-mode .lang-dropdown {
            background: #1a237e;
            color: var(--light);
        }

        @keyframes dropdownSlide {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .lang-dropdown.show {
            display: block;
        }

        .lang-option {
            padding: 0.8rem 1rem;
            cursor: pointer;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: var(--transition);
            color: var(--text);
        }

        .dark-mode .lang-option {
            color: var(--light);
            border-bottom: 1px solid #37474F;
        }

        .lang-option:hover {
            background: #f5f5f5;
            transform: translateX(5px);
        }

        .dark-mode .lang-option:hover {
            background: #283593;
        }

        .lang-option:last-child {
            border-bottom: none;
        }

        /* زر الاشتراك */
        .subscribe-btn {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: #000;
            border: none;
            border-radius: 50px;
            padding: 0.5rem 1rem;
            cursor: pointer;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: var(--transition);
            font-size: 0.9rem;
        }

        .subscribe-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(255, 215, 0, 0.5);
        }

        /* المحتوى الرئيسي */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: var(--radius);
            padding: 3rem;
            box-shadow: var(--shadow);
            border: 1px solid rgba(33, 150, 243, 0.2);
            backdrop-filter: blur(15px);
            margin-top: 6rem;
            transition: var(--transition);
        }

        .dark-mode .container {
            background: rgba(13, 71, 161, 0.95);
            border: 1px solid rgba(227, 242, 253, 0.2);
        }

        .header {
            text-align: center;
            margin-bottom: 3rem;
            animation: contentSlideUp 0.8s ease;
        }

        @keyframes contentSlideUp {
            from { opacity: 0; transform: translateY(50px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .header h1 {
            font-size: 2.8rem;
            color: var(--primary-dark);
            margin-bottom: 1rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary-dark), var(--primary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .dark-mode .header h1 {
            color: #90CAF9;
        }

        .page-subtitle {
            font-size: 1.2rem;
            color: var(--text-light);
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .dark-mode .page-subtitle {
            color: #B0BEC5;
        }

        /* أزرار التحكم */
        .answer-controls {
            position: sticky;
            top: 80px; /* أعلى قليلاً لتجنب التداخل مع الشارة */
            background: rgba(255, 255, 255, 0.95);
            padding: 1.5rem;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            margin-bottom: 2rem;
            z-index: 100;
            display: flex;
            gap: 1rem;
            justify-content: center;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(33, 150, 243, 0.2);
        }

        .dark-mode .answer-controls {
            background: rgba(13, 71, 161, 0.95);
            border: 1px solid rgba(227, 242, 253, 0.2);
        }

        .answer-btn {
            padding: 1rem 2rem;
            font-size: 1.1rem;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            position: relative;
            overflow: hidden;
            border: none;
            display: flex;
            align-items: center;
            gap: 0.8rem;
            transition: var(--transition);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .answer-btn::before {
            content: '';
            position: absolute;
            top: 0;
            right: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: right 0.6s;
        }

        .answer-btn:hover::before {
            right: 100%;
        }

        .answer-btn:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        }

        .show-answers {
            background: linear-gradient(135deg, var(--success) 0%, #45a049 100%);
            color: var(--white);
        }

        .hide-answers {
            background: linear-gradient(135deg, var(--secondary) 0%, var(--secondary-dark) 100%);
            color: var(--white);
        }

        /* التصميم الخاص بالأسئلة */
        .section {
            margin: 2rem 0;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(33, 150, 243, 0.2);
            backdrop-filter: blur(10px);
            transition: var(--transition);
        }

        .dark-mode .section {
            background: rgba(13, 71, 161, 0.9);
            border: 1px solid rgba(227, 242, 253, 0.2);
        }

        .section-title {
            color: var(--primary-dark);
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            padding-bottom: 0.8rem;
            border-bottom: 2px solid var(--primary);
            font-weight: 600;
        }

        .dark-mode .section-title {
            color: #90CAF9;
        }

        .question {
            margin: 1.5rem 0;
            padding: 1.5rem;
            background: rgba(33, 150, 243, 0.05);
            border-radius: 15px;
            border-right: 4px solid var(--primary);
            transition: var(--transition);
        }

        .dark-mode .question {
            background: rgba(33, 150, 243, 0.1);
        }

        .options {
            margin: 1rem 0;
        }

        .option {
            margin: 0.8rem 0;
            padding: 1rem;
            background: var(--white);
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
        }

        .dark-mode .option {
            background: #1a237e;
            border-color: #37474F;
        }

        .option:hover {
            border-color: var(--primary);
            background: rgba(33, 150, 243, 0.05);
            transform: translateX(-5px);
        }

        .correct {
            border-color: #4CAF50;
            background: rgba(76, 175, 80, 0.1);
        }

        .incorrect {
            border-color: #f44336;
            background: rgba(244, 67, 54, 0.1);
        }

        .answer {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 10px;
            font-weight: 600;
            animation: slideInUp 0.5s ease;
        }

        @keyframes slideInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* التصحيح - تم التعديل للوضع الليلي */
        .correct-answer {
            background: rgba(76, 175, 80, 0.2);
            color: #2E7D32;
            border: 2px solid #4CAF50;
            font-weight: bold;
        }

        .dark-mode .correct-answer {
            background: rgba(76, 175, 80, 0.3);
            color: #A5D6A7;
            border: 2px solid #81C784;
        }

        /* النصوص والعناوين */
        .text-content {
            line-height: 1.7;
            margin: 1.5rem 0;
            padding: 1.5rem;
            background: var(--white);
            border-radius: 15px;
            border: 1px solid #e0e0e0;
            font-size: 1.1rem;
            transition: var(--transition);
        }

        .dark-mode .text-content {
            background: #1a237e;
            border-color: #37474F;
        }

        .headings-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .heading-item {
            padding: 1.2rem;
            background: var(--white);
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            text-align: center;
            font-weight: 500;
            transition: var(--transition);
        }

        .dark-mode .heading-item {
            background: #1a237e;
            border-color: #37474F;
        }

        .matched {
            border-color: #4CAF50;
            background: rgba(76, 175, 80, 0.1);
            transform: scale(1.02);
        }

        /* الإعلانات والوضعيات */
        .ads-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 1.5rem;
            margin: 1.5rem 0;
        }

        .ad-item {
            padding: 1.5rem;
            background: var(--white);
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            min-height: 150px;
            transition: var(--transition);
        }

        .dark-mode .ad-item {
            background: #1a237e;
            border-color: #37474F;
        }

        .ad-item:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }

        .situations-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1.2rem;
        }

        .situation-item {
            padding: 1.2rem;
            background: var(--white);
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            transition: var(--transition);
        }

        .dark-mode .situation-item {
            background: #1a237e;
            border-color: #37474F;
        }

        .situation-item:hover {
            border-color: var(--primary);
            background: rgba(33, 150, 243, 0.05);
        }

        /* Sprachbausteine */
        .fill-blanks {
            margin: 1.5rem 0;
        }

        .blank-text {
            line-height: 2;
            margin: 1.5rem 0;
            font-size: 1.2rem;
            padding: 1.5rem;
            background: var(--white);
            border-radius: 15px;
            border: 1px solid #e0e0e0;
        }

        .dark-mode .blank-text {
            background: #1a237e;
            border-color: #37474F;
        }

        .blank {
            display: inline-block;
            min-width: 120px;
            margin: 0 8px;
            padding: 0.5rem 1rem;
            border-bottom: 3px solid var(--primary);
            text-align: center;
            font-weight: 600;
            background: var(--white);
            border-radius: 8px;
            transition: var(--transition);
        }

        .dark-mode .blank {
            background: #1a237e;
        }

        .blank-answer {
            background: rgba(76, 175, 80, 0.2);
            color: #2E7D32;
            border-color: #4CAF50;
            font-weight: bold;
        }

        .dark-mode .blank-answer {
            background: rgba(76, 175, 80, 0.3);
            color: #A5D6A7;
            border-color: #81C784;
        }

        .hidden {
            display: none;
        }

        /* Floating Elements مثل الصفحة الرئيسية */
        .floating-elements {
            position: fixed;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .floating-element {
            position: absolute;
            font-size: 3.5rem;
            opacity: 0.15;
            animation: float 8s ease-in-out infinite;
            filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));
        }

        .floating-book { top: 15%; left: 8%; animation-delay: 0s; }
        .floating-pen { top: 75%; right: 12%; animation-delay: 1s; }
        .floating-globe { bottom: 20%; left: 15%; font-size: 4.5rem; animation-delay: 2s; }
        .floating-clock { top: 25%; right: 8%; animation-delay: 3s; }
        .floating-graduate { top: 65%; left: 5%; animation-delay: 4s; }
        .floating-notebook { bottom: 15%; right: 10%; animation-delay: 5s; }
        .floating-pencil { top: 45%; left: 12%; font-size: 2.8rem; animation-delay: 6s; }
        .floating-calculator { top: 35%; right: 15%; animation-delay: 7s; }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg) scale(1); }
            33% { transform: translateY(-30px) rotate(5deg) scale(1.1); }
            66% { transform: translateY(-15px) rotate(-3deg) scale(0.95); }
        }

        @media (max-width: 768px) {
            .header-controls {
                top: 15px;
                left: 15px;
                right: 15px;
                gap: 10px;
            }

            .premium-badge-header {
                top: 15px;
                right: 70px;
                width: 45px;
                height: 45px;
                font-size: 1.1rem;
            }

            .home-btn {
                font-size: 0.8rem;
                padding: 0.4rem 0.8rem;
            }

            .container {
                padding: 2rem;
                margin: 1rem;
                margin-top: 5rem;
            }

            .header h1 {
                font-size: 2rem;
            }

            .headings-grid {
                grid-template-columns: 1fr;
            }

            .ads-grid {
                grid-template-columns: 1fr;
            }

            .right-controls {
                gap: 10px;
            }

            .answer-controls {
                top: 70px;
            }
        }

        @media (max-width: 480px) {
            .header-controls {
                flex-direction: column;
                align-items: center;
                gap: 10px;
            }

            .left-controls, .right-controls {
                flex-direction: row;
                justify-content: center;
            }

            .premium-badge-header {
                position: relative;
                top: auto;
                right: auto;
                transform: none;
                margin-top: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- Floating Elements مثل الصفحة الرئيسية -->
    <div class="floating-elements">
        <div class="floating-element floating-book">📚</div>
        <div class="floating-element floating-pen">✏️</div>
        <div class="floating-element floating-globe">🌍</div>
        <div class="floating-element floating-clock">⏰</div>
        <div class="floating-element floating-graduate">🎓</div>
        <div class="floating-element floating-notebook">📓</div>
        <div class="floating-element floating-pencil">✏️</div>
        <div class="floating-element floating-calculator">🧮</div>
    </div>

    <!-- شارة المشترك الذهبية - تم التعديل -->
    <div class="premium-badge-header" id="premiumBadge">
        <i class="fas fa-crown"></i>
    </div>

    <!-- Header Controls -->
    <div class="header-controls">
        <div class="left-controls">
            <button class="home-btn" id="homeBtn">
                <i class="fas fa-home"></i>
                <span id="homeText">الرئيسية</span>
            </button>
            <div class="language-selector">
                <button class="lang-btn" id="langBtn">
                    <span id="langBtnText">العربية</span>
                    <i class="fas fa-chevron-down"></i>
                </button>
                <div class="lang-dropdown" id="langDropdown">
                    <div class="lang-option" data-lang="ar">
                        <span>🇸🇦</span>
                        <span>العربية</span>
                    </div>
                    <div class="lang-option" data-lang="de">
                        <span>🇩🇪</span>
                        <span>Deutsch</span>
                    </div>
                    <div class="lang-option" data-lang="en">
                        <span>🇬🇧</span>
                        <span>English</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="right-controls">
            <button class="control-btn" id="themeToggle">
                <i class="fas fa-moon"></i>
            </button>
            <button class="subscribe-btn" id="subscribeBtn">
                <i class="fas fa-crown"></i>
                <span id="subscribeText">اشتراك</span>
            </button>
            <button class="control-btn" id="userBtn">
                <i class="fas fa-user"></i>
            </button>
        </div>
    </div>

    <div class="container">
        <div class="header">
            <h1 id="pageTitle">iTeIC Leseverstehen - TELC B2 Training</h1>
            <p class="page-subtitle" id="pageSubtitle">تمرين القراءة والفهم - الجزء الأول والثاني والثالث</p>
        </div>

        <!-- أزرار التحكم -->
        <div class="answer-controls">
            <button class="answer-btn show-answers" id="showAnswers">
                <i class="fas fa-check-circle"></i>
                <span id="showAnswersText">إظهار التصحيح</span>
            </button>
            <button class="answer-btn hide-answers" id="hideAnswers">
                <i class="fas fa-eye-slash"></i>
                <span id="hideAnswersText">إخفاء التصحيح</span>
            </button>
        </div>

        <!-- Lesen Teil 1 -->
        <div class="section">
            <h2 class="section-title" id="teil1Title">Lesen Teil 1</h2>
            <p id="teil1Description">Lesen Sie zuerst die zehn Überschriften. Lesen Sie dann die fünf Texte und entscheiden Sie, welche Überschrift (a-j) am besten zu welchem Text (1–5) passt.</p>
            
            <div class="headings-grid" id="headingsList">
                <!-- العناوين سيتم إضافتها بالجافاسكريبت -->
            </div>

            <div id="textsList">
                <!-- النصوص سيتم إضافتها بالجافاسكريبت -->
            </div>
        </div>

        <!-- Lesen Teil 2 -->
        <div class="section">
            <h2 class="section-title" id="teil2Title">Lesen Teil 2</h2>
            <div class="text-content" id="longText">
                <!-- النص الطويل سيتم إضافته بالجافاسكريبت -->
            </div>

            <div id="questionsList">
                <!-- الأسئلة سيتم إضافتها بالجافاسكريبت -->
            </div>
        </div>

        <!-- Lesen Teil 3 -->
        <div class="section">
            <h2 class="section-title" id="teil3Title">Lesen Teil 3</h2>
            <p id="teil3Description">Lesen Sie zuerst die zehn Situationen (11–20) und dann die zwölف Info-Texte (a–l). Welcher Info-Text passt zu welcher Situation?</p>
            
            <div class="situations-grid" id="situationsList">
                <!-- الوضعيات سيتم إضافتها بالجافاسكريبت -->
            </div>

            <div class="ads-grid" id="adsList">
                <!-- الإعلانات سيتم إضافتها بالجافاسكريبت -->
            </div>
        </div>

        <!-- Sprachbausteine Teil 1 -->
        <div class="section">
            <h2 class="section-title" id="sprach1Title">Sprachbausteine Teil 1</h2>
            <div class="fill-blanks">
                <div class="blank-text" id="blankText1">
                    <!-- النص بالفراغات سيتم إضافته بالجافاسكريبت -->
                </div>
            </div>
        </div>

        <!-- Sprachbausteine Teil 2 -->
        <div class="section">
            <h2 class="section-title" id="sprach2Title">Sprachbausteine Teil 2</h2>
            <div class="fill-blanks">
                <div class="blank-text" id="blankText2">
                    <!-- النص بالفراغات سيتم إضافته بالجافاسكريبت -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // الترجمات
        const translations = {
            ar: {
                homeText: "الرئيسية",
                themeText: "الوضع الليلي",
                langText: "العربية", 
                userText: "زائر",
                subscribeText: "اشتراك",
                pageTitle: "iTeIC Leseverstehen - TELC B2 Training",
                pageSubtitle: "تمرين القراءة والفهم - الجزء الأول والثاني والثالث",
                showAnswersText: "إظهار التصحيح",
                hideAnswersText: "إخفاء التصحيح",
                teil1Title: "Lesen Teil 1",
                teil1Description: "Lesen Sie zuerst die zehn Überschriften. Lesen Sie dann die fünf Texte und entscheiden Sie, welche Überschrift (a-j) am besten zu welchem Text (1–5) passt.",
                teil2Title: "Lesen Teil 2", 
                teil3Title: "Lesen Teil 3",
                teil3Description: "Lesen Sie zuerst die zehn Situationen (11–20) und dann die zwölف Info-Texte (a–l). Welcher Info-Text passt zu welcher Situation?",
                sprach1Title: "Sprachbausteine Teil 1",
                sprach2Title: "Sprachbausteine Teil 2"
            },
            de: {
                homeText: "Startseite",
                themeText: "Nachtmodus", 
                langText: "Deutsch",
                userText: "Besucher",
                subscribeText: "Abonnieren",
                pageTitle: "iTeIC Leseverstehen - TELC B2 Training",
                pageSubtitle: "Leseverstehen - Teil 1, 2 und 3",
                showAnswersText: "Korrektur anzeigen",
                hideAnswersText: "Korrektur ausblenden",
                teil1Title: "Lesen Teil 1",
                teil1Description: "Lesen Sie zuerst die zehn Überschriften. Lesen Sie dann die fünf Texte und entscheiden Sie, welche Überschrift (a-j) am besten zu welchem Text (1–5) passt.",
                teil2Title: "Lesen Teil 2",
                teil3Title: "Lesen Teil 3", 
                teil3Description: "Lesen Sie zuerst die zehn Situationen (11–20) und dann die zwölf Info-Texte (a–l). Welcher Info-Text passt zu welcher Situation?",
                sprach1Title: "Sprachbausteine Teil 1",
                sprach2Title: "Sprachbausteine Teil 2"
            },
            en: {
                homeText: "Home",
                themeText: "Dark Mode",
                langText: "English",
                userText: "Visitor", 
                subscribeText: "Subscribe",
                pageTitle: "iTeIC Leseverstehen - TELC B2 Training",
                pageSubtitle: "Reading Comprehension - Part 1, 2 and 3",
                showAnswersText: "Show Correction",
                hideAnswersText: "Hide Correction",
                teil1Title: "Reading Part 1",
                teil1Description: "First read the ten headings. Then read the five texts and decide which heading (a-j) best matches which text (1-5).",
                teil2Title: "Reading Part 2",
                teil3Title: "Reading Part 3",
                teil3Description: "First read the ten situations (11-20) and then the twelve info texts (a-l). Which info text matches which situation?",
                sprach1Title: "Language Elements Part 1", 
                sprach2Title: "Language Elements Part 2"
            }
        };

        // بيانات الأسئلة والإجابات من ملف PDF
        const examData = {
            // Lesen Teil 1
            headings: [
                "Wie aus Tieren Frostschutzmittel gewonnen werden",
                "Genussmittel erhöht die Wahrnehmung bestimmter Wörter",
                "Insektensterben in der kalten Jahreszeit",
                "Pflanzen und Insekten - eine gemeinsame Entwicklung",
                "Koffeinrückstände in landwirtschaftlichen Erzeugnissen",
                "Koffein im Blütennektar verbessert die Gedächtnisleistung",
                "Die bisher ältesten Pflanzensamen entdeckt",
                "Neue Erkenntnisse über das weltweite Bienensterben",
                "Methoden zum Überleben in der kalten Jahreszeit",
                "wie Kaffee unser Sprachvermögen beeinflusst"
            ],
            
            texts: [
                {
                    content: `Koffein macht nicht nur Menschen munter, sondern auch Bienen. Das haben Forscher der Universität Halle-Wittenberg herausgefunden. Sie haben den Tieren koffeinhaltigen Zuckerwasser angeboten. Die Bienen, die Koffein bekommen hatten, konnten sich dreimal besser an den Duft einer bestimmten Blüte erinnern als die Bienen ohne Koffein. Das Koffein aktiviert einen Bereich im Gehirn der Bienen, der mit dem Lernen und dem Gedächtnis zu tun hat. So finden die Bienen besser zu den Blüten zurück, die sie schon einmal besucht haben.`,
                    correctAnswer: "Koffein im Blütennektar verbessert die Gedächtnisleistung"
                },
                {
                    content: `Viele Pflanzen und Insekten haben sich im Laufe der Evolution gemeinsam entwickelt. Das zeigt eine Studie der Universitäten Bonn und Halle-Wittenberg. Die Forscher haben die Entwicklung von Pflanzen und Insekten über 80 Millionen Jahre zurückverfolgt. Sie fanden heraus, dass sich bestimmte Pflanzenfamilien und Insektengruppen parallel entwickelt haben. Wenn eine Pflanzengruppe neue Arten bildete, entstanden auch bei den bestäubenden Insekten neue Arten. Diese gemeinsame Entwicklung hat dazu beigetragen, dass es heute so eine große Vielfalt an Pflanzen und Insekten gibt.`,
                    correctAnswer: "Pflanzen und Insekten - eine gemeinsame Entwicklung"
                },
                {
                    content: `Im Winter sterben viele Insekten, aber nicht alle. Manche überleben die kalte Jahreszeit als Ei, Larve oder Puppe. Andere suchen sich geschützte Orte wie hohle Bäume oder Erdlöcher. Wieder andere produzieren ein körpereigenes Frostschutzmittel, das verhindert, dass ihre Körperflüssigkeiten gefrieren. Dieses Frostschutzmittel besteht aus Zucker und Alkohol. Einige Insektenarten können sogar Temperaturen von minus 30 Grad Celsius überleben.`,
                    correctAnswer: "Methoden zum Überleben in der kalten Jahreszeit"
                },
                {
                    content: `Wissenschaftler der Universität in Israel haben herausgefunden, dass Koffeinrückstände in landwirtschaftlichen Erzeugnissen ein großes Problem darstellen können. Die Forscher untersuchten Honig und fanden darin Koffein. Das Koffein stammt von Pflanzen, die Koffein produzieren, um Bestäuber anzulocken. Wenn Bienen den Nektar dieser Pflanzen sammeln, gelangt das Koffein in den Honig. Die Wissenschaftler fordern jetzt, dass der Koffeingehalt in Honig überwacht wird, da zu viel Koffein gesundheitsschädlich sein kann.`,
                    correctAnswer: "Koffeinrückstände in landwirtschaftlichen Erzeugnissen"
                },
                {
                    content: `Forscher der Universität in Alaska haben entdeckt, wie man aus Tieren Frostschutzmittel gewinnen kann. Sie untersuchten Fische, die in extrem kalten Gewässern leben. Diese Fische produzieren ein Protein, das verhindert, dass ihr Blut gefriert. Die Wissenschaftler ist es gelungen, dieses Protein künstlich herzustellen. Es könnte in Zukunft als Frostschutzmittel in der Lebensmittelindustrie verwendet werden, zum Beispiel bei der Herstellung von Eiscreme.`,
                    correctAnswer: "Wie aus Tieren Frostschutzmittel gewonnen werden"
                }
            ],

            // Lesen Teil 2 - النص الكامل
            longText: {
                content: `Die Digitalisierung hat in den letzten Jahren viele Bereiche unseres Lebens verändert. Besonders deutlich wird dies im Bereich der Bildung. Immer mehr Schulen setzen auf digitale Lernmethoden. Tablets und Laptops ersetzen zunehmend Schulbücher und Hefte. Doch ist diese Entwicklung wirklich nur positiv?
Viele Lehrer und Eltern sind skeptisch. Sie befürchten, dass die Schüler durch die ständige Nutzung von digitalen Geräten abgelenkt werden. Außerdem könnte die Handschrift der Schüler leiden, wenn sie kaum noch mit der Hand schreiben. Studien zeigen tatsächlich, dass Schüler, die viel mit der Tastatur schreiben, schlechtere Handschriften haben als Schüler, die regelmäßig mit der Hand schreiben.
Dennoch gibt es auch viele Vorteile. Digitale Lernmethoden ermöglichen eine individuellere Förderung der Schüler. Lernprogramme können sich dem Leistungsniveau des einzelnen Schülers anpassen. Schwächere Schüler bekommen so die Möglichkeit, in ihrem eigenen Tempo zu lernen. Stärkere Schüler können sich dagegen mit anspruchsvolleren Aufgaben beschäftigen.
Ein weiterer Vorteil ist die Aktualität der Lerninhalte. Während Schulbücher oft Jahre alt sind, können digitale Inhalte ständig aktualisiert werden. So können Schüler immer mit den neuesten Informationen lernen. Das ist besonders in Fächern wie Geschichte oder Politik wichtig, wo sich die Inhalte schnell ändern können.
Trotz aller Vorteile sollte die Digitalisierung nicht überstürzt werden. Es ist wichtig, dass Lehrer und Schüler gut auf die neuen Technologien vorbereitet werden. Dazu gehören auch Fortbildungen für Lehrer, damit sie die digitalen Werkzeuge optimal im Unterricht einsetzen können.
Letztendlich kommt es auf die richtige Mischung an. Digitale und analoge Lernmethoden sollten sich ergänzen. Die Digitalisierung kann den Unterricht bereichern, aber sie sollte die traditionellen Lernmethoden nicht vollständig ersetzen.`,
                questions: [
                    {
                        question: "Was befürchten viele Lehrer und Eltern?",
                        options: [
                            "dass die Schüler zu viel mit der Hand schreiben",
                            "dass die Schüler durch digitale Geräte abgelenkt werden",
                            "dass die Schüler zu wenig digitale Geräte nutzen"
                        ],
                        correctAnswer: "dass die Schüler durch digitale Geräte abgelenkt werden"
                    },
                    {
                        question: "Welchen Vorteil haben digitale Lernmethoden?",
                        options: [
                            "Sie sind billiger als traditionelle Lernmethoden",
                            "Sie ermöglichen eine individuellere Förderung",
                            "Sie erfordern keine Fortbildungen für Lehrer"
                        ],
                        correctAnswer: "Sie ermöglichen eine individuellere Förderung"
                    },
                    {
                        question: "Warum sind digitale Inhalte oft besser als Schulbücher?", 
                        options: [
                            "weil sie bessere Bilder haben",
                            "weil sie ständig aktualisiert werden können",
                            "weil sie leichter zu transportieren sind"
                        ],
                        correctAnswer: "weil sie ständig aktualisiert werden können"
                    },
                    {
                        question: "Was ist laut dem Text wichtig für eine erfolgreiche Digitalisierung?",
                        options: [
                            "dass alle Schüler ein Tablet bekommen",
                            "dass Lehrer und Schüler gut vorbereitet werden",
                            "dass traditionelle Lernmethoden vollständig ersetzt werden"
                        ],
                        correctAnswer: "dass Lehrer und Schüler gut vorbereitet werden"
                    },
                    {
                        question: "Was sollte laut dem Text die richtige Herangehensweise sein?",
                        options: [
                            "vollständige Digitalisierung des Unterrichts",
                            "Verzicht auf digitale Lernmethoden",
                            "eine Mischung aus digitalen und analogen Methoden"
                        ],
                        correctAnswer: "eine Mischung aus digitalen und analogen Methoden"
                    }
                ]
            },

            // Lesen Teil 3
            situations: [
                "Sie möchten einen Sprachkurs in Deutschland besuchen.",
                "Sie suchen eine günstige Unterkunft für Ihren Urlaub.",
                "Sie interessieren sich für deutsche Literatur.",
                "Sie möchten in Deutschland studieren.",
                "Sie brauchen Informationen über das deutsche Gesundheitssystem.",
                "Sie wollen deutsche Filme im Original sehen.", 
                "Sie suchen einen Job in Deutschland.",
                "Sie möchten mehr über deutsche Traditionen erfahren.",
                "Sie planen eine Reise durch Deutschland.",
                "Sie wollen Ihr Deutsch verbessern."
            ],

            ads: [
                {
                    id: "a",
                    title: "Deutsch intensiv",
                    content: "Möchten Sie schnell Deutsch lernen? Unser Intensivkurs ist genau das Richtige für Sie. Vier Wochen lang lernen Sie täglich vier Stunden Deutsch. Der Kurs findet in kleinen Gruppen statt, sodass Sie optimal gefördert werden. Am Ende des Kurses erhalten Sie ein Zertifikat. Start: jeden ersten Montag im Monat."
                },
                {
                    id: "b", 
                    title: "Jugendherberge Berlin",
                    content: "Suchen Sie eine günstige Unterkunft in Berlin? In unserer Jugendherberge zahlen Sie nur 25 Euro pro Nacht inklusive Frühstück. Wir bieten Mehrbettzimmer und Einzelzimmer an. Die Herberge liegt zentral und ist gut mit öffentlichen Verkehrsmitteln erreichbar. Kostenloses WLAN inklusive."
                },
                {
                    id: "c",
                    title: "Bücherflohmarkt", 
                    content: "Am Samstag, den 15. Juni, findet in der Stadtbibliothek ein großer Bücherflohmarkt statt. Von 10 bis 18 Uhr können Sie Bücher aller Genres kaufen - von Romanen über Sachbücher bis zu Kinderbüchern. Alle Bücher kosten zwischen 1 und 5 Euro. Der Erlös kommt der Bibliothek zugute."
                },
                {
                    id: "d",
                    title: "Studieren in Deutschland",
                    content: "Informationsveranstaltung für internationale Studierende. Wir beraten Sie zu Studienmöglichkeiten, Zulassungsvoraussetzungen und Finanzierung. Die Veranstaltung findet am 20. Juni um 18 Uhr im International Office der Universität statt. Anmeldung nicht erforderlich."
                },
                {
                    id: "e",
                    title: "Gesundheitswegweiser",
                    content: "Neu in Deutschland und unsicher beim Arztbesuch? Unser Gesundheitswegweiser erklärt das deutsche Gesundheitssystem in einfacher Sprache. Er hilft Ihnen bei der Arztwahl, bei der Terminvereinbarung und beim Verstehen von Arztbriefen. Kostenlos erhältlich im Bürgeramt."
                },
                {
                    id: "f",
                    title: "Deutsche Filmabende",
                    content: "Jeden Donnerstag zeigen wir deutsche Filme im Original mit Untertiteln. Im Anschluss an den Film gibt es die Möglichkeit, über den Film zu diskutieren. Eine gute Gelegenheit, Ihr Hörverstehen zu verbessern und andere Deutschlerner kennenzulernen. Eintritt: 5 Euro."
                },
                {
                    id: "g",
                    title: "Stellenangebote",
                    content: "Wir vermitteln Jobs für Deutschlerner. Ob in der Gastronomie, im Einzelhandel oder in der Produktion - wir haben passende Angebote. Voraussetzung: Deutschkenntnisse mindestens auf Niveau A2. Kommen Sie vorbei oder schicken Sie Ihre Bewerbung per E-Mail."
                },
                {
                    id: "h", 
                    title: "Traditionen entdecken",
                    content: "Was feiern die Deutschen eigentlich an Ostern? Warum gibt es den Maibaum? In unserem Kurs 'Deutsche Traditionen' lernen Sie die wichtigsten Feste und Bräuche kennen. Der Kurs findet samstags von 10-12 Uhr statt und kostet 60 Euro für 6 Termine."
                },
                {
                    id: "i",
                    title: "Deutschlandreise",
                    content: "Planen Sie eine Reise durch Deutschland? Unser Reiseführer 'Deutschland für Entdecker' zeigt Ihnen die schönsten Orte abseits der Touristenpfade. Mit praktischen Tipps zu Unterkünften, Restaurants und Sehenswürdigkeiten. Jetzt für nur 14,99 Euro im Buchhandel erhältlich."
                },
                {
                    id: "j",
                    title: "Konversationskurs", 
                    content: "Sie können schon gut Deutsch, aber trauen sich nicht zu sprechen? In unserem Konversationskurs üben Sie das freie Sprechen in entspannter Atmosphäre. Themen: Alltag, Beruf, Kultur, Reisen. Der Kurs findet dienstags von 18-20 Uhr statt. Kosten: 80 Euro für 8 Wochen."
                },
                {
                    id: "k",
                    title: "Museumsnacht",
                    content: "Am 25. August öffnen die Museen der Stadt bis Mitternacht ihre Türen. Mit einem Ticket können Sie alle teilnehmenden Museen besuchen. Dazu gibt es Führungen, Workshops und besondere Ausstellungen. Tickets gibt es im Vorverkauf für 15 Euro, an der Abendkasse für 18 Euro."
                },
                {
                    id: "l",
                    title: "Volkshochschule Programm",
                    content: "Das neue Programm der Volkshochschule ist da! Über 500 Kurse in den Bereichen Sprachen, Beruf, Gesundheit, Kultur und Gesellschaft. Anmeldung ab sofort möglich. Das Programmheft liegt an allen öffentlichen Einrichtungen aus oder kann online eingesehen werden."
                }
            ],

            // الإجابات الصحيحة لـ Lesen Teil 3
            teil3Answers: {
                11: "Deutsch intensiv",
                12: "Jugendherberge Berlin", 
                13: "Bücherflohmarkt",
                14: "Studieren in Deutschland",
                15: "Gesundheitswegweiser",
                16: "Deutsche Filmabende",
                17: "Stellenangebote",
                18: "Traditionen entdecken",
                19: "Deutschlandreise", 
                20: "Konversationskurs"
            },

            // Sprachbausteine Teil 1
            blankText1: {
                content: `Sehr geehrte Damen und Herren,

hiermit bewerbe ich mich __(21)__ die ausgeschriebene Stelle als Werkstudent im Bereich Marketing.

Ich __(22)__ derzeit BWL im fünften Semester an der Universität Köln. In meinem Studium __(23)__ ich mich auf Marketing spezialisiert. Die Stelle in Ihrem Unternehmen interessiert mich besonders, __(24)__ ich bereits praktische Erfahrungen in diesem Bereich sammeln konnte.

Während meines Praktikums bei der ABC GmbH __(25)__ ich an der Entwicklung von Marketingkampagnen mit. Dabei __(26)__ ich unter anderem für die Social-Media-Präsenz des Unternehmens verantwortlich. Diese Erfahrung __(27)__ mir gezeigt, dass ich meine theoretischen Kenntnisse aus dem Studium in der Praxis anwenden kann.

In Ihrem Unternehmen __(28)__ ich die Möglichkeit, mein Wissen weiter zu vertiefen und neue Fähigkeiten zu erlernen. Ich bin überzeugt, dass ich __(29)__ meinen Fähigkeiten und meiner Motivation einen wertvollen Beitrag zu Ihrem Team leisten kann.

Über eine Einladung __(30)__ ein Vorstellungsgespräch freue ich mich sehr.

Mit freundlichen Grüßen
Anna Müller`,
                answers: ["auf", "studiere", "habe", "weil", "arbeitete", "war", "hat", "sehe", "mit", "zu"]
            },

            // Sprachbausteine Teil 2
            blankText2: {
                content: `Die Digitalisierung __(31)__ in den letzten Jahren viele Bereiche unseres Lebens verändert. Besonders deutlich wird dies im Bereich der Bildung. Immer mehr Schulen setzen __(32)__ digitale Lernmethoden. Tablets und Laptops ersetzen zunehmend Schulbücher und Hefte. Doch ist diese Entwicklung wirklich nur positiv?

Viele Lehrer und Eltern sind skeptisch. Sie befürchten, __(33)__ die Schüler durch die ständige Nutzung von digitalen Geräten abgelenkt werden. Außerdem könnte die Handschrift der Schüler leiden, __(34)__ sie kaum noch mit der Hand schreiben. Studien zeigen tatsächlich, dass Schüler, die viel mit der Tastatur schreiben, schlechtere Handschriften haben __(35)__ Schüler, die regelmäßig mit der Hand schreiben.

Dennoch gibt es __(36)__ viele Vorteile. Digitale Lernmethoden ermöglichen eine individuellere Förderung der Schüler. Lernprogramme können sich dem Leistungsniveau des einzelnen Schülers anpassen. Schwächere Schüler bekommen __(37)__ die Möglichkeit, in ihrem eigenen Tempo zu lernen. Stärkere Schüler können sich dagegen mit anspruchsvolleren Aufgaben beschäftigen.

Ein weiterer Vorteil ist die Aktualität der Lerninhalte. Während Schulbücher oft Jahre alt sind, können digitale Inhalte ständig aktualisiert werden. So können Schüler immer mit den neuesten Informationen lernen. Das ist besonders in Fächern __(38)__ Geschichte oder Politik wichtig, wo sich die Inhalte schnell ändern können.

Trotz aller Vorteile sollte die Digitalisierung nicht überstürzt werden. Es ist wichtig, __(39)__ Lehrer und Schüler gut auf die neuen Technologien vorbereitet werden. Dazu gehören auch Fortbildungen für Lehrer, __(40)__ sie die digitalen Werkzeuge optimal im Unterricht einsetzen können.

Letztendlich kommt es auf die richtige Mischung an. Digitale und analoge Lernmethoden sollten sich ergänzen. Die Digitalisierung kann den Unterricht bereichern, aber sie sollte die traditionellen Lernmethoden nicht vollständig ersetzen.`,
                answers: ["hat", "auf", "dass", "wenn", "als", "auch", "so", "wie", "dass", "damit"]
            }
        };

        // تهيئة الصفحة
        document.addEventListener('DOMContentLoaded', function() {
            initializePage();
            setupEventListeners();
        });

        let currentLang = 'ar';
        let isDarkMode = false;

        function initializePage() {
            // تحميل الإعدادات المحفوظة
            const savedLang = localStorage.getItem('language') || 'ar';
            const savedDarkMode = localStorage.getItem('darkMode') === 'true';
            const username = localStorage.getItem('username') || 'زائر';
            const access = localStorage.getItem('access');
            
            changeLanguage(savedLang);
            if (savedDarkMode) {
                toggleDarkMode();
            }
            
            // التحقق من حالة المستخدم
            if (access === 'paid' && username) {
                document.getElementById('premiumBadge').style.display = 'flex';
            }
            
            // تهيئة الأجزاء
            initializeTeil1();
            initializeTeil2();  
            initializeTeil3();
            initializeSprachbausteine();
        }

        function initializeTeil1() {
            const headingsList = document.getElementById('headingsList');
            const textsList = document.getElementById('textsList');

            headingsList.innerHTML = '';
            textsList.innerHTML = '';

            // إضافة العناوين
            examData.headings.forEach((heading, index) => {
                const headingItem = document.createElement('div');
                headingItem.className = 'heading-item';
                headingItem.innerHTML = `
                    <strong>${String.fromCharCode(97 + index)})</strong> ${heading}
                `;
                headingItem.dataset.letter = String.fromCharCode(97 + index);
                headingsList.appendChild(headingItem);
            });

            // إضافة النصوص
            examData.texts.forEach((text, index) => {
                const textItem = document.createElement('div');
                textItem.className = 'question';
                textItem.innerHTML = `
                    <h3>Text ${index + 1}</h3>
                    <div class="text-content">${text.content}</div>
                    <div class="answer hidden correct-answer">
                        ${currentLang === 'ar' ? 'الإجابة الصحيحة:' : currentLang === 'de' ? 'Richtige Antwort:' : 'Correct answer:'} ${text.correctAnswer}
                    </div>
                `;
                textsList.appendChild(textItem);
            });
        }

        function initializeTeil2() {
            const longText = document.getElementById('longText');
            const questionsList = document.getElementById('questionsList');

            longText.innerHTML = `<div class="text-content">${examData.longText.content}</div>`;

            questionsList.innerHTML = '';
            examData.longText.questions.forEach((question, index) => {
                const questionItem = document.createElement('div');
                questionItem.className = 'question';
                questionItem.innerHTML = `
                    <h3>Frage ${index + 6}</h3>
                    <p><strong>${question.question}</strong></p>
                    <div class="options">
                        ${question.options.map((option, optIndex) => `
                            <div class="option" data-index="${optIndex}">
                                ${String.fromCharCode(97 + optIndex)}) ${option}
                            </div>
                        `).join('')}
                    </div>
                    <div class="answer hidden correct-answer">
                        ${currentLang === 'ar' ? 'الإجابة الصحيحة:' : currentLang === 'de' ? 'Richtige Antwort:' : 'Correct answer:'} ${question.correctAnswer}
                    </div>
                `;
                questionsList.appendChild(questionItem);
            });
        }

        function initializeTeil3() {
            const situationsList = document.getElementById('situationsList');
            const adsList = document.getElementById('adsList');

            situationsList.innerHTML = '';
            examData.situations.forEach((situation, index) => {
                const situationItem = document.createElement('div');
                situationItem.className = 'situation-item';
                situationItem.innerHTML = `
                    <strong>${index + 11})</strong> ${situation}
                    <div class="answer hidden correct-answer">
                        ${currentLang === 'ar' ? 'الإجابة الصحيحة:' : currentLang === 'de' ? 'Richtige Antwort:' : 'Correct answer:'} ${examData.teil3Answers[index + 11]}
                    </div>
                `;
                situationsList.appendChild(situationItem);
            });

            adsList.innerHTML = '';
            examData.ads.forEach(ad => {
                const adItem = document.createElement('div');
                adItem.className = 'ad-item';
                adItem.innerHTML = `
                    <strong>${ad.id.toUpperCase()}) ${ad.title}</strong>
                    <p>${ad.content}</p>
                `;
                adsList.appendChild(adItem);
            });
        }

        function initializeSprachbausteine() {
            // Teil 1
            const blankText1 = document.getElementById('blankText1');
            const textWithBlanks1 = examData.blankText1.content.replace(/__\(\d+\)__/g, match => {
                const blankNumber = parseInt(match.match(/\d+/)[0]);
                return `<span class="blank">______<span class="blank-answer hidden">${examData.blankText1.answers[blankNumber - 21]}</span></span>`;
            });
            blankText1.innerHTML = textWithBlanks1;

            // Teil 2
            const blankText2 = document.getElementById('blankText2');
            const textWithBlanks2 = examData.blankText2.content.replace(/__\(\d+\)__/g, match => {
                const blankNumber = parseInt(match.match(/\d+/)[0]);
                return `<span class="blank">______<span class="blank-answer hidden">${examData.blankText2.answers[blankNumber - 31]}</span></span>`;
            });
            blankText2.innerHTML = textWithBlanks2;
        }

        function setupEventListeners() {
            // أزرار التحكم
            document.getElementById('showAnswers').addEventListener('click', showAllAnswers);
            document.getElementById('hideAnswers').addEventListener('click', hideAllAnswers);
            
            // زر الرئيسية
            document.getElementById('homeBtn').addEventListener('click', () => {
                window.location.href = 'tahada.html';
            });
            
            // زر الوضع الليلي
            document.getElementById('themeToggle').addEventListener('click', toggleDarkMode);
            
            // زر الاشتراك
            document.getElementById('subscribeBtn').addEventListener('click', () => {
                window.location.href = 'tahada.html#subscribe';
            });
            
            // زر المستخدم
            document.getElementById('userBtn').addEventListener('click', () => {
                window.location.href = 'tahada.html#profile';
            });
            
            // زر اللغة
            document.getElementById('langBtn').addEventListener('click', toggleLangDropdown);
            document.querySelectorAll('.lang-option').forEach(option => {
                option.addEventListener('click', () => {
                    const lang = option.getAttribute('data-lang');
                    changeLanguage(lang);
                    document.getElementById('langDropdown').classList.remove('show');
                });
            });
            
            // إغلاق القوائم المنسدلة بالنقر خارجها
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.language-selector')) {
                    document.getElementById('langDropdown').classList.remove('show');
                }
            });
        }

        function showAllAnswers() {
            document.querySelectorAll('.answer').forEach(answer => {
                answer.classList.remove('hidden');
            });
            document.querySelectorAll('.blank-answer').forEach(answer => {
                answer.classList.remove('hidden');
            });
            document.querySelectorAll('.heading-item').forEach((heading, index) => {
                const letter = heading.dataset.letter;
                examData.texts.forEach(text => {
                    if (text.correctAnswer === examData.headings[letter.charCodeAt(0) - 97]) {
                        heading.classList.add('matched');
                    }
                });
            });
        }

        function hideAllAnswers() {
            document.querySelectorAll('.answer').forEach(answer => {
                answer.classList.add('hidden');
            });
            document.querySelectorAll('.blank-answer').forEach(answer => {
                answer.classList.add('hidden');
            });
            document.querySelectorAll('.heading-item').forEach(heading => {
                heading.classList.remove('matched');
            });
        }

        function toggleDarkMode() {
            isDarkMode = !isDarkMode;
            document.body.classList.toggle('dark-mode', isDarkMode);
            localStorage.setItem('darkMode', isDarkMode);
            
            const themeIcon = document.querySelector('#themeToggle i');
            if (isDarkMode) {
                themeIcon.className = 'fas fa-sun';
            } else {
                themeIcon.className = 'fas fa-moon';
            }
        }

        function toggleLangDropdown() {
            document.getElementById('langDropdown').classList.toggle('show');
        }

        function changeLanguage(lang) {
            currentLang = lang;
            const t = translations[lang];
            
            // تحديث جميع النصوص
            Object.keys(t).forEach(key => {
                const element = document.getElementById(key);
                if (element) {
                    element.textContent = t[key];
                }
            });
            
            localStorage.setItem('language', lang);
            
            // إعادة تهيئة المحتوى لترجمة الإجابات
            initializeTeil1();
            initializeTeil2();
        }
    </script>
</body>
</html>