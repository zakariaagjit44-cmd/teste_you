<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GELD - TELC B2 Training</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* جميع أنماط CSS تبقى كما هي بدون أي تغيير */
        :root {
            --primary: #2196F3;
            --primary-dark: #1976D2;
            --secondary: #42A5F5;
            --secondary-dark: #1E88E5;
            --success: #4CAF50;
            --danger: #f44336;
            --warning: #FFC107;
            --light: #E3F2FD;
            --dark: #0D47A1;
            --text: #333;
            --text-light: #546E7A;
            --white: #ffffff;
            --shadow: 0 10px 30px rgba(33, 150, 243, 0.2);
            --shadow-hover: 0 20px 40px rgba(33, 150, 243, 0.3);
            --radius: 25px;
            --transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(135deg, var(--light) 0%, #BBDEFB 100%);
            color: var(--text);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            transition: var(--transition);
        }

        body.dark-mode {
            background: linear-gradient(135deg, var(--dark) 0%, var(--primary-dark) 100%);
            color: var(--light);
        }

        /* Header Controls - تم تعديل موضع الأزرار */
        .header-controls {
            position: fixed;
            top: 20px;
            left: 20px;
            right: 20px;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            z-index: 1000;
            gap: 15px;
        }

        .left-controls {
            display: flex;
            flex-direction: column;
            gap: 10px;
            align-items: flex-start;
        }

        .right-controls {
            display: flex;
            gap: 15px;
            align-items: flex-start;
        }

        .control-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            cursor: pointer;
            box-shadow: var(--shadow);
            border: none;
            background: var(--primary);
            color: var(--white);
            position: relative;
            overflow: hidden;
            transition: var(--transition);
        }

        .control-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .control-btn:hover::before {
            width: 100%;
            height: 100%;
        }

        .control-btn:hover {
            transform: scale(1.15) rotate(5deg);
            box-shadow: 0 8px 25px rgba(33, 150, 243, 0.4);
        }

        /* شارة المشترك الذهبية - تم تعديل الموضع */
        .premium-badge-header {
            position: fixed;
            top: 20px;
            right: 150px; /* تم تعديل الموضع */
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: #000;
            padding: 0.5rem;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 1.3rem;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
            z-index: 1000;
            display: none;
            align-items: center;
            justify-content: center;
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3); }
            to { box-shadow: 0 4px 20px rgba(255, 215, 0, 0.6); }
        }

        .home-btn {
            background: rgba(255, 255, 255, 0.95);
            border: 2px solid var(--primary);
            border-radius: 50px;
            padding: 0.5rem 1rem;
            cursor: pointer;
            font-weight: 600;
            color: var(--primary-dark);
            box-shadow: var(--shadow);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: var(--transition);
            font-size: 0.9rem;
            border: none;
            width: auto;
            height: auto;
        }

        .dark-mode .home-btn {
            background: rgba(13, 71, 161, 0.95);
            color: var(--light);
            border: 2px solid var(--secondary);
        }

        .home-btn:hover {
            background: var(--primary);
            color: var(--white);
            transform: translateY(-3px);
        }

        /* Language Selector */
        .language-selector {
            display: flex;
            position: relative;
        }

        .lang-btn {
            background: rgba(255, 255, 255, 0.95);
            border: 2px solid var(--primary);
            border-radius: var(--radius);
            padding: 0.5rem 1rem;
            cursor: pointer;
            font-weight: 600;
            color: var(--primary-dark);
            box-shadow: var(--shadow);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: var(--transition);
            border: none;
            width: auto;
            height: auto;
        }

        .dark-mode .lang-btn {
            background: rgba(13, 71, 161, 0.95);
            color: var(--light);
            border: 2px solid var(--secondary);
        }

        .lang-btn:hover {
            background: var(--primary);
            color: var(--white);
            transform: translateY(-3px);
        }

        .lang-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            margin-top: 0.5rem;
            background: var(--white);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            display: none;
            overflow: hidden;
            min-width: 120px;
            animation: dropdownSlide 0.3s ease;
            z-index: 1001;
        }

        .dark-mode .lang-dropdown {
            background: #1a237e;
            color: var(--light);
        }

        @keyframes dropdownSlide {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .lang-dropdown.show {
            display: block;
        }

        .lang-option {
            padding: 0.8rem 1rem;
            cursor: pointer;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: var(--transition);
            color: var(--text);
        }

        .dark-mode .lang-option {
            color: var(--light);
            border-bottom: 1px solid #37474F;
        }

        .lang-option:hover {
            background: #f5f5f5;
            transform: translateX(5px);
        }

        .dark-mode .lang-option:hover {
            background: #283593;
        }

        .lang-option:last-child {
            border-bottom: none;
        }

        /* المحتوى الرئيسي */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: var(--radius);
            padding: 3rem;
            box-shadow: var(--shadow);
            border: 1px solid rgba(33, 150, 243, 0.2);
            backdrop-filter: blur(15px);
            margin-top: 6rem;
            transition: var(--transition);
        }

        .dark-mode .container {
            background: rgba(13, 71, 161, 0.95);
            border: 1px solid rgba(227, 242, 253, 0.2);
        }

        .header {
            text-align: center;
            margin-bottom: 3rem;
            animation: contentSlideUp 0.8s ease;
        }

        @keyframes contentSlideUp {
            from { opacity: 0; transform: translateY(50px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .header h1 {
            font-size: 2.8rem;
            color: var(--primary-dark);
            margin-bottom: 1rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary-dark), var(--primary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .dark-mode .header h1 {
            color: #90CAF9;
        }

        .page-subtitle {
            font-size: 1.2rem;
            color: var(--text-light);
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .dark-mode .page-subtitle {
            color: #B0BEC5;
        }

        /* أزرار التحكم */
        .answer-controls {
            position: sticky;
            top: 80px;
            background: rgba(255, 255, 255, 0.95);
            padding: 1.5rem;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            margin-bottom: 2rem;
            z-index: 100;
            display: flex;
            gap: 1rem;
            justify-content: center;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(33, 150, 243, 0.2);
        }

        .dark-mode .answer-controls {
            background: rgba(13, 71, 161, 0.95);
            border: 1px solid rgba(227, 242, 253, 0.2);
        }

        .answer-btn {
            padding: 1rem 2rem;
            font-size: 1.1rem;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            position: relative;
            overflow: hidden;
            border: none;
            display: flex;
            align-items: center;
            gap: 0.8rem;
            transition: var(--transition);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .answer-btn::before {
            content: '';
            position: absolute;
            top: 0;
            right: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: right 0.6s;
        }

        .answer-btn:hover::before {
            right: 100%;
        }

        .answer-btn:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        }

        .show-answers {
            background: linear-gradient(135deg, var(--success) 0%, #45a049 100%);
            color: var(--white);
        }

        .hide-answers {
            background: linear-gradient(135deg, var(--secondary) 0%, var(--secondary-dark) 100%);
            color: var(--white);
        }

        /* التصميم الخاص بالأسئلة */
        .section {
            margin: 2rem 0;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(33, 150, 243, 0.2);
            backdrop-filter: blur(10px);
            transition: var(--transition);
        }

        .dark-mode .section {
            background: rgba(13, 71, 161, 0.9);
            border: 1px solid rgba(227, 242, 253, 0.2);
        }

        .section-title {
            color: var(--primary-dark);
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            padding-bottom: 0.8rem;
            border-bottom: 2px solid var(--primary);
            font-weight: 600;
        }

        .dark-mode .section-title {
            color: #90CAF9;
        }

        .question {
            margin: 1.5rem 0;
            padding: 1.5rem;
            background: rgba(33, 150, 243, 0.05);
            border-radius: 15px;
            border-right: 4px solid var(--primary);
            transition: var(--transition);
        }

        .dark-mode .question {
            background: rgba(33, 150, 243, 0.1);
        }

        .options {
            margin: 1rem 0;
        }

        .option {
            margin: 0.8rem 0;
            padding: 1rem;
            background: var(--white);
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
        }

        .dark-mode .option {
            background: #1a237e;
            border-color: #37474F;
        }

        .option:hover {
            border-color: var(--primary);
            background: rgba(33, 150, 243, 0.05);
            transform: translateX(-5px);
        }

        .correct {
            border-color: #4CAF50;
            background: rgba(76, 175, 80, 0.1);
        }

        .incorrect {
            border-color: #f44336;
            background: rgba(244, 67, 54, 0.1);
        }

        .answer {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 10px;
            font-weight: 600;
            animation: slideInUp 0.5s ease;
        }

        @keyframes slideInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* التصحيح */
        .correct-answer {
            background: rgba(76, 175, 80, 0.2);
            color: #2E7D32;
            border: 2px solid #4CAF50;
            font-weight: bold;
        }

        .dark-mode .correct-answer {
            background: rgba(76, 175, 80, 0.3);
            color: #A5D6A7;
            border: 2px solid #81C784;
        }

        /* النصوص والعناوين */
        .text-content {
            line-height: 1.7;
            margin: 1.5rem 0;
            padding: 1.5rem;
            background: var(--white);
            border-radius: 15px;
            border: 1px solid #e0e0e0;
            font-size: 1.1rem;
            transition: var(--transition);
        }

        .dark-mode .text-content {
            background: #1a237e;
            border-color: #37474F;
        }

        .headings-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .heading-item {
            padding: 1.2rem;
            background: var(--white);
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            text-align: center;
            font-weight: 500;
            transition: var(--transition);
        }

        .dark-mode .heading-item {
            background: #1a237e;
            border-color: #37474F;
        }

        .matched {
            border-color: #4CAF50;
            background: rgba(76, 175, 80, 0.1);
            transform: scale(1.02);
        }

        /* الإعلانات والوضعيات */
        .ads-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 1.5rem;
            margin: 1.5rem 0;
        }

        .ad-item {
            padding: 1.5rem;
            background: var(--white);
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            min-height: 150px;
            transition: var(--transition);
        }

        .dark-mode .ad-item {
            background: #1a237e;
            border-color: #37474F;
        }

        .ad-item:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }

        .situations-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1.2rem;
        }

        .situation-item {
            padding: 1.2rem;
            background: var(--white);
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            transition: var(--transition);
        }

        .dark-mode .situation-item {
            background: #1a237e;
            border-color: #37474F;
        }

        .situation-item:hover {
            border-color: var(--primary);
            background: rgba(33, 150, 243, 0.05);
        }

        /* Sprachbausteine */
        .fill-blanks {
            margin: 1.5rem 0;
        }

        .blank-text {
            line-height: 2;
            margin: 1.5rem 0;
            font-size: 1.2rem;
            padding: 1.5rem;
            background: var(--white);
            border-radius: 15px;
            border: 1px solid #e0e0e0;
        }

        .dark-mode .blank-text {
            background: #1a237e;
            border-color: #37474F;
        }

        .blank {
            display: inline-block;
            min-width: 120px;
            margin: 0 8px;
            padding: 0.5rem 1rem;
            border-bottom: 3px solid var(--primary);
            text-align: center;
            font-weight: 600;
            background: var(--white);
            border-radius: 8px;
            transition: var(--transition);
        }

        .dark-mode .blank {
            background: #1a237e;
        }

        .blank-answer {
            background: rgba(76, 175, 80, 0.2);
            color: #2E7D32;
            border-color: #4CAF50;
            font-weight: bold;
        }

        .dark-mode .blank-answer {
            background: rgba(76, 175, 80, 0.3);
            color: #A5D6A7;
            border-color: #81C784;
        }

        .hidden {
            display: none;
        }

        /* Floating Elements */
        .floating-elements {
            position: fixed;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .floating-element {
            position: absolute;
            font-size: 3.5rem;
            opacity: 0.15;
            animation: float 8s ease-in-out infinite;
            filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));
        }

        .floating-book { top: 15%; left: 8%; animation-delay: 0s; }
        .floating-pen { top: 75%; right: 12%; animation-delay: 1s; }
        .floating-globe { bottom: 20%; left: 15%; font-size: 4.5rem; animation-delay: 2s; }
        .floating-clock { top: 25%; right: 8%; animation-delay: 3s; }
        .floating-graduate { top: 65%; left: 5%; animation-delay: 4s; }
        .floating-notebook { bottom: 15%; right: 10%; animation-delay: 5s; }
        .floating-pencil { top: 45%; left: 12%; font-size: 2.8rem; animation-delay: 6s; }
        .floating-calculator { top: 35%; right: 15%; animation-delay: 7s; }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg) scale(1); }
            33% { transform: translateY(-30px) rotate(5deg) scale(1.1); }
            66% { transform: translateY(-15px) rotate(-3deg) scale(0.95); }
        }

        @media (max-width: 768px) {
            .header-controls {
                top: 15px;
                left: 15px;
                right: 15px;
                gap: 10px;
            }

            .premium-badge-header {
                top: 15px;
                right: 130px;
                width: 45px;
                height: 45px;
                font-size: 1.1rem;
            }

            .home-btn {
                font-size: 0.8rem;
                padding: 0.4rem 0.8rem;
            }

            .container {
                padding: 2rem;
                margin: 1rem;
                margin-top: 5rem;
            }

            .header h1 {
                font-size: 2rem;
            }

            .headings-grid {
                grid-template-columns: 1fr;
            }

            .ads-grid {
                grid-template-columns: 1fr;
            }

            .right-controls {
                gap: 10px;
            }

            .answer-controls {
                top: 70px;
            }
        }

        @media (max-width: 480px) {
            .header-controls {
                flex-direction: column;
                align-items: center;
                gap: 10px;
            }

            .left-controls, .right-controls {
                flex-direction: row;
                justify-content: center;
            }

            .premium-badge-header {
                position: relative;
                top: auto;
                right: auto;
                transform: none;
                margin-top: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- Floating Elements -->
    <div class="floating-elements">
        <div class="floating-element floating-book">📚</div>
        <div class="floating-element floating-pen">✏️</div>
        <div class="floating-element floating-globe">🌍</div>
        <div class="floating-element floating-clock">⏰</div>
        <div class="floating-element floating-graduate">🎓</div>
        <div class="floating-element floating-notebook">📓</div>
        <div class="floating-element floating-pencil">✏️</div>
        <div class="floating-element floating-calculator">🧮</div>
    </div>

    <!-- شارة المشترك الذهبية - تم تعديل الموضع -->
    <div class="premium-badge-header" id="premiumBadge">
        <i class="fas fa-crown"></i>
    </div>

    <!-- Header Controls -->
    <div class="header-controls">
        <div class="left-controls">
            <button class="home-btn" id="homeBtn">
                <i class="fas fa-home"></i>
                <span id="homeText">الرئيسية</span>
            </button>
            <div class="language-selector">
                <button class="lang-btn" id="langBtn">
                    <span id="langBtnText">العربية</span>
                    <i class="fas fa-chevron-down"></i>
                </button>
                <div class="lang-dropdown" id="langDropdown">
                    <div class="lang-option" data-lang="ar">
                        <span>🇸🇦</span>
                        <span>العربية</span>
                    </div>
                    <div class="lang-option" data-lang="de">
                        <span>🇩🇪</span>
                        <span>Deutsch</span>
                    </div>
                    <div class="lang-option" data-lang="en">
                        <span>🇬🇧</span>
                        <span>English</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="right-controls">
            <!-- تم إضافة زر الاشتراك هنا -->
            <button class="control-btn" id="subscribeBtn">
                <i class="fas fa-gem"></i>
            </button>
            <button class="control-btn" id="themeToggle">
                <i class="fas fa-moon"></i>
            </button>
            <button class="control-btn" id="userBtn">
                <i class="fas fa-user"></i>
            </button>
        </div>
    </div>

    <div class="container">
        <div class="header">
            <h1 id="pageTitle">GELD - TELC B2 Training</h1>
            <p class="page-subtitle" id="pageSubtitle">تمرين القراءة والفهم - الجزء الأول والثاني والثالث</p>
        </div>

        <!-- أزرار التحكم -->
        <div class="answer-controls">
            <button class="answer-btn show-answers" id="showAnswers">
                <i class="fas fa-check-circle"></i>
                <span id="showAnswersText">إظهار التصحيح</span>
            </button>
            <button class="answer-btn hide-answers" id="hideAnswers">
                <i class="fas fa-eye-slash"></i>
                <span id="hideAnswersText">إخفاء التصحيح</span>
            </button>
        </div>

        <!-- Lesen Teil 1 -->
        <div class="section">
            <h2 class="section-title" id="teil1Title">Lesen Teil 1</h2>
            <p id="teil1Description">Lesen Sie zuerst die zehn Überschriften. Lesen Sie dann die fünf Texte und entscheiden Sie, welche Überschrift (a-j) am besten zu welchem Text (1–5) passt.</p>
            
            <div class="headings-grid" id="headingsList">
                <!-- العناوين سيتم إضافتها بالجافاسكريبت -->
            </div>

            <div id="textsList">
                <!-- النصوص سيتم إضافتها بالجافاسكريبت -->
            </div>
        </div>

        <!-- Lesen Teil 2 -->
        <div class="section">
            <h2 class="section-title" id="teil2Title">Lesen Teil 2</h2>
            <div class="text-content" id="longText">
                <!-- النص الطويل سيتم إضافته بالجافاسكريبت -->
            </div>

            <div id="questionsList">
                <!-- الأسئلة سيتم إضافتها بالجافاسكريبت -->
            </div>
        </div>

        <!-- Lesen Teil 3 -->
        <div class="section">
            <h2 class="section-title" id="teil3Title">Lesen Teil 3</h2>
            <p id="teil3Description">Lesen Sie zuerst die zehn Situationen (11–20) und dann die zwölف Info-Texte (a–l). Welcher Info-Text passt zu welcher Situation?</p>
            
            <div class="situations-grid" id="situationsList">
                <!-- الوضعيات سيتم إضافتها بالجافاسكريبت -->
            </div>

            <div class="ads-grid" id="adsList">
                <!-- الإعلانات سيتم إضافتها بالجافاسكريبت -->
            </div>
        </div>

        <!-- Sprachbausteine Teil 1 -->
        <div class="section">
            <h2 class="section-title" id="sprach1Title">Sprachbausteine Teil 1</h2>
            <div class="fill-blanks">
                <div class="blank-text" id="blankText1">
                    <!-- النص بالفراغات سيتم إضافته بالجافاسكريبت -->
                </div>
            </div>
        </div>

        <!-- Sprachbausteine Teil 2 -->
        <div class="section">
            <h2 class="section-title" id="sprach2Title">Sprachbausteine Teil 2</h2>
            <div class="fill-blanks">
                <div class="blank-text" id="blankText2">
                    <!-- النص بالفراغات سيتم إضافته بالجافاسكريبت -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // الترجمات
        const translations = {
            ar: {
                homeText: "الرئيسية",
                themeText: "الوضع الليلي",
                langText: "العربية", 
                userText: "زائر",
                pageTitle: "GELD - TELC B2 Training",
                pageSubtitle: "تمرين القراءة والفهم - الجزء الأول والثاني والثالث",
                showAnswersText: "إظهار التصحيح",
                hideAnswersText: "إخفاء التصحيح",
                teil1Title: "Lesen Teil 1",
                teil1Description: "Lesen Sie zuerst die zehn Überschriften. Lesen Sie dann die fünf Texte und entscheiden Sie, welche Überschrift (a-j) am besten zu welchem Text (1–5) passt.",
                teil2Title: "Lesen Teil 2", 
                teil3Title: "Lesen Teil 3",
                teil3Description: "Lesen Sie zuerst die zehn Situationen (11–20) und dann die zwölف Info-Texte (a–l). Welcher Info-Text passt zu welcher Situation?",
                sprach1Title: "Sprachbausteine Teil 1",
                sprach2Title: "Sprachbausteine Teil 2"
            },
            de: {
                homeText: "Startseite",
                themeText: "Nachtmodus", 
                langText: "Deutsch",
                userText: "Besucher",
                pageTitle: "GELD - TELC B2 Training",
                pageSubtitle: "Leseverstehen - Teil 1, 2 und 3",
                showAnswersText: "Korrektur anzeigen",
                hideAnswersText: "Korrektur ausblenden",
                teil1Title: "Lesen Teil 1",
                teil1Description: "Lesen Sie zuerst die zehn Überschriften. Lesen Sie dann die fünf Texte und entscheiden Sie, welche Überschrift (a-j) am besten zu welchem Text (1–5) passt.",
                teil2Title: "Lesen Teil 2",
                teil3Title: "Lesen Teil 3", 
                teil3Description: "Lesen Sie zuerst die zehn Situationen (11–20) und dann die zwölf Info-Texte (a–l). Welcher Info-Text passt zu welcher Situation?",
                sprach1Title: "Sprachbausteine Teil 1",
                sprach2Title: "Sprachbausteine Teil 2"
            },
            en: {
                homeText: "Home",
                themeText: "Dark Mode",
                langText: "English",
                userText: "Visitor", 
                pageTitle: "GELD - TELC B2 Training",
                pageSubtitle: "Reading Comprehension - Part 1, 2 and 3",
                showAnswersText: "Show Correction",
                hideAnswersText: "Hide Correction",
                teil1Title: "Reading Part 1",
                teil1Description: "First read the ten headings. Then read the five texts and decide which heading (a-j) best matches which text (1-5).",
                teil2Title: "Reading Part 2",
                teil3Title: "Reading Part 3",
                teil3Description: "First read the ten situations (11-20) and then the twelve info texts (a-l). Which info text matches which situation?",
                sprach1Title: "Language Elements Part 1", 
                sprach2Title: "Language Elements Part 2"
            }
        };

        // بيانات الأسئلة والإجابات من ملف PDF
        const examData = {
            // Lesen Teil 1 - العناوين من PDF
            headings: [
                "Ausstellung über Finanzmetropole",
                "Fachinformationen für Finanzprofis", 
                "Finanz-ABC für Anfänger",
                "Interessante Tätigkeit wichtiger als hohes Gehalt",
                "Lehrreicher Rundgang zu Finanzwissen",
                "Sammelgefäße als Ausstellungsobjekte",
                "Sparbüchsen - Nun wieder in Mode",
                "Vertrauen zeigt sich auf dem Konto",
                "Wie Kinder den Umgang mit Geld lernen",
                "Wie man Kinder zum Sparen motiviert"
            ],
            
            // Lesen Teil 1 - النصوص من PDF
            texts: [
                {
                    content: `Spardosen sind Sammelbehälter, Dekoration oder Kinderspielzeug - und zwar seit Jahrhunderten. Und obwohl bargeldloses Bezahlen immer mehr in Mode kommt, sind sie bis heute nicht aus den Kinderzimmern verschwunden. Das Spardosen-Museum im Haus Kemnade zeigt 1200 Exemplare aus dem Mittelalter bis zum 20. Jahrhundert, Daneben widmet sich das Museum der Geschichte des Geldes. In zwei Räumen sind Münzen, Scheine und weitere Tauschnittel aus der ganzen Welt ausgestellt. Die Sammlung von Spardosen reicht von schweren Gefäßen aus Eisen über kunstvoll verzierte Truhen und Kutschen bis zu Mickey-Mäusen aus Blech. "Um 1900 erlebten Spardosen einen Boom", sagt Museumsleiterin Dr. Petra Kappe. "Die Industrie produzierte sie in großen Mengen, und sie waren ein beliebtes Geschenk."`,
                    correctAnswer: "Sammelgefäße als Ausstellungsobjekte"
                },
                {
                    content: `Die Europäische Zentralbank (EZB) in Frankfurt am Main hat eine neue Ausstellung eröffnet. Sie trägt den Titel "Die EZB - Währungshüter für Europa". Die Ausstellung ist in die Bereiche "Aufgaben", "Geschichte" und "Geldpolitik" gegliedert. Sie zeigt, wie die EZB funktioniert und welche Rolle sie in Europa spielt. Besucher können sich über die Geschichte des Geldes und die Entstehung des Euro informieren. Außerdem wird erklärt, wie die EZB die Preisstabilität in der Eurozone sicherstellt. Die Ausstellung ist kostenlos und richtet sich an alle, die mehr über die Arbeit der EZB erfahren möchten. Sie ist von Montag bis Freitag von 9 bis 18 Uhr geöffnet.`,
                    correctAnswer: "Lehrreicher Rundgang zu Finanzwissen"
                },
                {
                    content: `Die Finanzbranche ist komplex und für viele Menschen schwer zu verstehen. Das Buch "Finanzwissen für Einsteiger" von Dr. Michael Weber bietet einen leicht verständlichen Einstieg in die Welt der Finanzen. Es erklärt grundlegende Begriffe wie Zinsen, Inflation und Aktien. Außerdem gibt es Tipps, wie man sein Geld sinnvoll anlegt und für die Zukunft vorsorgt. Das Buch ist besonders für junge Menschen geeignet, die sich erstmals mit dem Thema Finanzen beschäftigen. Es ist im Buchhandel erhältlich und kostet 19,90 Euro.`,
                    correctAnswer: "Finanz-ABC für Anfänger"
                },
                {
                    content: `Eine aktuelle Studie des Instituts für Arbeitsmarkt- und Berufsforschung (IAB) zeigt, dass für viele Arbeitnehmer nicht das Gehalt, sondern die Tätigkeit selbst im Vordergrund steht. "Die meisten Menschen wollen eine Arbeit, die sie erfüllt und die ihren Interessen entspricht", sagt Studienleiter Prof. Dr. Thomas Bauer. "Geld allein macht nicht glücklich." Die Studie befragte 10.000 Arbeitnehmer in Deutschland. 72 Prozent gaben an, dass sie lieber weniger verdienen würden, wenn sie dafür eine interessantere Tätigkeit ausüben könnten. Nur 28 Prozent sagten, dass für sie das Gehalt am wichtigsten sei.`,
                    correctAnswer: "Interessante Tätigkeit wichtiger als hohes Gehalt"
                },
                {
                    content: `Das Deutsche Aktieninstitut (DAI) hat eine neue Broschüre für Kinder herausgegeben. Sie trägt den Titel "Geld und Aktien - was ist das?". Die Broschüre erklärt kindgerecht, was Geld ist, wie man es verdient und warum man sparen sollte. Außerdem wird erläutert, was Aktien sind und wie die Börse funktioniert. "Kinder sollten früh lernen, mit Geld umzugehen", sagt DAI-Geschäftsführerin Dr. Christine Bortenlänger. "Das ist wichtig für ihre finanzielle Zukunft." Die Broschüre kann kostenlos auf der Website des DAI heruntergeladen werden.`,
                    correctAnswer: "Wie Kinder den Umgang mit Geld lernen"
                }
            ],

            // Lesen Teil 2 - النص الكامل من PDF
            longText: {
                content: `Geld spielt in unserem Leben eine wichtige Rolle. Doch wie lernen Kinder den Umgang mit Geld? Eine Frage, die viele Eltern beschäftigt. Experten sind sich einig: Kinder sollten frühzeitig an das Thema herangeführt werden. Doch wie macht man das am besten?
Zunächst einmal ist es wichtig, dass Kinder verstehen, was Geld überhaupt ist. Dazu kann man ihnen erklären, dass Geld ein Tauschmittel ist. Man gibt Geld aus, um etwas dafür zu bekommen. Das können Süßigkeiten sein, Spielzeug oder auch ein Kinobesuch. Kinder sollten auch lernen, dass Geld nicht unbegrenzt zur Verfügung steht. Es muss verdient werden, und wenn man es ausgibt, ist es weg.
Ein guter Weg, Kindern den Umgang mit Geld beizubringen, ist das Taschengeld. Ab wann sollte man Taschengeld zahlen? Experten empfehlen, damit im Alter von etwa sechs Jahren zu beginnen. Die Höhe des Taschengeldes sollte dem Alter des Kindes entsprechen. Für Sechsjährige sind ein bis zwei Euro pro Woche angemessen. Mit zunehmendem Alter kann das Taschengeld dann erhöht werden.
Wichtig ist, dass Kinder selbst entscheiden dürfen, wofür sie ihr Taschengeld ausgeben. So lernen sie, Prioritäten zu setzen und mit begrenzten Mitteln umzugehen. Wenn das Geld einmal nicht reicht, müssen sie warten, bis sie wieder Taschengeld bekommen. Das fördert die Geduld und das Planungsvermögen.
Neben dem Taschengeld können auch Geldgeschenke zu besonderen Anlässen wie Geburtstag oder Weihnachten eine gute Gelegenheit sein, den Umgang mit Geld zu üben. Eltern sollten mit ihren Kindern besprechen, was sie mit dem Geld machen wollen. Eine Möglichkeit ist, einen Teil des Geldes zu sparen. Dafür kann man gemeinsam mit dem Kind ein Sparschwein oder ein Sparkonto einrichten.
Kinder lernen am besten durch Vorbilder. Deshalb ist es wichtig, dass Eltern ihren Kindern einen verantwortungsvollen Umgang mit Geld vorleben. Das bedeutet, nicht impulsiv einzukaufen, sondern Preise zu vergleichen und sich Gedanken über die Notwendigkeit einer Anschaffung zu machen. Wenn Kinder sehen, dass ihre Eltern bewusst mit Geld umgehen, werden sie das wahrscheinlich auch tun.
In der Schule wird das Thema Geld oft nur am Rande behandelt. Dabei wäre es wichtig, dass Kinder in der Schule grundlegende Finanzkenntnisse erwerben. Einige Schulen bieten deshalb Projekttage zum Thema Geld an. Dabei lernen die Kinder, wie man ein Budget erstellt, was Kredite sind und wie man Schulden vermeidet.
Auch Banken und Verbraucherzentralen bieten Bildungsangebote für Kinder und Jugendliche an. Diese reichen von Führungen durch die Bank bis hin zu Workshops, in denen die Teilnehmer lernen, wie man ein Girokonto führt oder was bei der ersten Steuererklärung zu beachten ist.
Ein weiterer wichtiger Aspekt ist die Medienkompetenz. Kinder und Jugendliche sind heute einer Flut von Werbung ausgesetzt, die sie zum Kaufen verleiten will. Deshalb ist es wichtig, dass sie lernen, Werbung kritisch zu hinterfragen. Eltern können mit ihren Kindern über Werbestrategien sprechen und ihnen zeigen, wie man bewusste Kaufentscheidungen trifft.
Zusammenfassend lässt sich sagen: Den Umgang mit Geld lernen Kinder am besten, wenn sie frühzeitig eigene Erfahrungen sammeln können. Taschengeld, Geldgeschenke und der bewusste Umgang der Eltern mit Geld sind dabei wichtige Bausteine. Ergänzt durch schulische und außerschulische Bildungsangebote können Kinder so zu finanziell mündigen Bürgern heranwachsen.`,
                questions: [
                    {
                        question: "Was ist laut dem Text wichtig, damit Kinder den Umgang mit Geld lernen?",
                        options: [
                            "Sie sollten möglichst viel Taschengeld bekommen.",
                            "Sie sollten früh an das Thema herangeführt werden.",
                            "Sie sollten in der Schule das Fach Wirtschaft haben."
                        ],
                        correctAnswer: "Sie sollten früh an das Thema herangeführt werden."
                    },
                    {
                        question: "Was empfiehlt der Text bezüglich des Taschengeldes?",
                        options: [
                            "Kinder sollten selbst entscheiden dürfen, wofür sie ihr Taschengeld ausgeben.",
                            "Eltern sollten kontrollieren, wofür die Kinder das Taschengeld ausgeben.",
                            "Taschengeld sollte erst ab einem Alter von zehn Jahren gezahlt werden."
                        ],
                        correctAnswer: "Kinder sollten selbst entscheiden dürfen, wofür sie ihr Taschengeld ausgeben."
                    },
                    {
                        question: "Welche Rolle spielen die Eltern beim Umgang mit Geld?", 
                        options: [
                            "Sie sollten ihren Kindern einen verantwortungsvollen Umgang mit Geld vorleben.",
                            "Sie sollten ihren Kindern möglichst viel Geld geben.",
                            "Sie sollten die Finanzen ihrer Kinder komplett kontrollieren."
                        ],
                        correctAnswer: "Sie sollten ihren Kindern einen verantwortungsvollen Umgang mit Geld vorleben."
                    },
                    {
                        question: "Was sagt der Text über die Schule?",
                        options: [
                            "Das Thema Geld wird in der Schule oft nur am Rande behandelt.",
                            "In der Schule wird das Thema Geld ausführlich behandelt.",
                            "Die Schule sollte das Thema Geld gar nicht behandeln."
                        ],
                        correctAnswer: "Das Thema Geld wird in der Schule oft nur am Rande behandelt."
                    },
                    {
                        question: "Warum ist Medienkompetenz im Zusammenhang mit Geld wichtig?",
                        options: [
                            "Weil Kinder und Jugendliche einer Flut von Werbung ausgesetzt sind.",
                            "Weil Kinder und Jugendliche ohne Medienkompetenz kein Geld verdienen können.",
                            "Weil Medienkompetenz in der Schule unterrichtet wird."
                        ],
                        correctAnswer: "Weil Kinder und Jugendliche einer Flut von Werbung ausgesetzt sind."
                    }
                ]
            },

            // Lesen Teil 3 - الوضعيات من PDF
            situations: [
                "Sie möchten mehr über die Geschichte des Geldes erfahren.",
                "Sie suchen ein Buch, das Grundlagenwissen zum Thema Finanzen vermittelt.",
                "Sie wollen Ihrem Kind den Umgang mit Geld beibringen.",
                "Sie interessieren sich für die Arbeit der Europäischen Zentralbank.",
                "Sie möchten wissen, was Arbeitnehmern bei der Jobwahl wichtig ist.",
                "Sie sammeln alte Spardosen und möchten eine Ausstellung besuchen.", 
                "Sie sind Finanzprofi und benötigen aktuelle Fachinformationen.",
                "Sie möchten Ihrem Kind das Sparen beibringen.",
                "Sie wollen eine Ausstellung über eine Finanzmetropole besuchen.",
                "Sie suchen eine Broschüre, die Kindern das Thema Geld erklärt."
            ],

            // Lesen Teil 3 - الإعلانات من PDF
            ads: [
                {
                    id: "a",
                    title: "Geldmuseum der Deutschen Bundesbank",
                    content: "Das Geldmuseum der Deutschen Bundesbank in Frankfurt am Main bietet eine Reise durch die Geschichte des Geldes. Von den ersten Tauschmitteln über die ersten Münzen bis zum modernen Zahlungsverkehr. Die Ausstellung zeigt, wie Geld funktioniert und welche Rolle es in der Wirtschaft spielt. Besucher können seltene Münzen und Banknoten bestaunen und an interaktiven Stationen ihr Wissen testen. Der Eintritt ist frei. Öffnungszeiten: Dienstag bis Sonntag 10-17 Uhr."
                },
                {
                    id: "b", 
                    title: "Finanzlexikon für Einsteiger",
                    content: "Das Buch 'Finanzen verstehen' von Prof. Dr. Hans Meyer erklärt die wichtigsten Begriffe aus der Welt der Finanzen. Von A wie Aktie bis Z wie Zinseszinseffekt. Das Buch ist besonders für Einsteiger geeignet, die sich mit dem Thema Finanzen vertraut machen wollen. Es ist im Buchhandel erhältlich oder kann online bestellt werden. Preis: 14,99 Euro."
                },
                {
                    id: "c",
                    title: "Spardosen-Workshop für Kinder", 
                    content: "In unserem Workshop lernen Kinder im Alter von 6 bis 10 Jahren, warum Sparen wichtig ist und wie man es macht. Gemeinsam basteln wir eine eigene Spardose und überlegen, wofür wir sparen wollen. Der Workshop findet samstags von 10-12 Uhr statt. Kosten: 5 Euro pro Kind. Anmeldung erforderlich unter Tel. 069/123456."
                },
                {
                    id: "d",
                    title: "EZB-Besucherzentrum",
                    content: "Das Besucherzentrum der Europäischen Zentralbank in Frankfurt bietet Einblicke in die Arbeit der Währungshüter. In einer multimedialen Ausstellung erfahren Sie, wie die EZB die Preisstabilität in der Eurozone sicherstellt. Führungen werden in verschiedenen Sprachen angeboten. Der Eintritt ist frei. Öffnungszeiten: Montag bis Freitag 9-18 Uhr."
                },
                {
                    id: "e",
                    title: "Studie: Was Arbeitnehmer wirklich wollen",
                    content: "Eine aktuelle Studie des Instituts für Arbeitsmarkt- und Berufsforschung zeigt, dass für die meisten Arbeitnehmer nicht das Gehalt, sondern die Tätigkeit selbst im Vordergrund steht. Die Studie kann kostenlos auf der Website des Instituts heruntergeladen werden. www.iab.de/studie-arbeitszufriedenheit"
                },
                {
                    id: "f",
                    title: "Spardosen-Ausstellung im Historischen Museum",
                    content: "Das Historische Museum zeigt eine Sonderausstellung mit über 500 Spardosen aus drei Jahrhunderten. Von einfachen Tongefäßen bis zu kunstvoll verzierten Metallspardosen. Die Ausstellung läuft noch bis zum 30. November. Eintritt: 8 Euro, ermäßigt 4 Euro. Öffnungszeiten: Dienstag bis Sonntag 10-18 Uhr."
                },
                {
                    id: "g",
                    title: "Finanznachrichten für Profis",
                    content: "Unser Newsletter liefert täglich die wichtigsten Nachrichten aus der Finanzwelt. Börsenkurse, Wirtschaftsdaten, Analystenkommentare. Abonnieren Sie jetzt unseren kostenpflichtigen Service für 29,90 Euro pro Monat. www.finanznachrichten-pro.de"
                },
                {
                    id: "h", 
                    title: "So motivieren Sie Ihr Kind zum Sparen",
                    content: "Unsere Broschüre 'Sparen lernen' gibt Eltern Tipps, wie sie ihre Kinder zum Sparen motivieren können. Mit praktischen Übungen und Spielen. Die Broschüre kann kostenlos bei Ihrer Bank angefordert werden oder steht zum Download auf unserer Website bereit. www.bundesbank.de/sparen-lernen"
                },
                {
                    id: "i",
                    title: "Frankfurt - Stadt des Geldes",
                    content: "Eine Ausstellung im Museum für Moderne Kunst zeigt die Entwicklung Frankfurts zur Finanzmetropole. Von den ersten Bankhäusern bis zur modernen Skyline. Die Ausstellung läuft noch bis zum 15. Januar. Eintritt: 12 Euro, ermäßigt 6 Euro. Öffnungszeiten: Dienstag bis Sonntag 10-18 Uhr."
                },
                {
                    id: "j",
                    title: "Geld und ich - Eine Broschüre für Kinder", 
                    content: "Die Broschüre 'Geld und ich' erklärt Kindern ab 8 Jahren, was Geld ist, woher es kommt und warum man sparen sollte. Mit vielen Bildern und spielerischen Übungen. Die Broschüre kann kostenlos beim Bundesministerium der Finanzen bestellt werden. www.bundesfinanzministerium.de/geld-und-ich"
                },
                {
                    id: "k",
                    title: "Finanzworkshop für Jugendliche",
                    content: "In unserem Workshop lernen Jugendliche, wie man ein Budget erstellt, was beim Abschluss eines Handyvertrags zu beachten ist und wie man Schulden vermeidet. Der Workshop findet an vier Samstagen statt und kostet 50 Euro. Anmeldung unter Tel. 069/654321."
                },
                {
                    id: "l",
                    title: "Börse für Anfänger",
                    content: "Unser Seminar 'Börse für Anfänger' erklärt die Grundlagen des Aktienhandels. Was sind Aktien? Wie funktioniert die Börse? Wie findet man die richtige Anlagestrategie? Das Seminar findet am 15. November von 10-16 Uhr statt. Kosten: 99 Euro. Anmeldung unter www.boerse-fuer-anfaenger.de"
                }
            ],

            // الإجابات الصحيحة لـ Lesen Teil 3
            teil3Answers: {
                11: "Geldmuseum der Deutschen Bundesbank",
                12: "Finanzlexikon für Einsteiger", 
                13: "Spardosen-Workshop für Kinder",
                14: "EZB-Besucherzentrum",
                15: "Studie: Was Arbeitnehmer wirklich wollen",
                16: "Spardosen-Ausstellung im Historischen Museum",
                17: "Finanznachrichten für Profis",
                18: "So motivieren Sie Ihr Kind zum Sparen",
                19: "Frankfurt - Stadt des Geldes", 
                20: "Geld und ich - Eine Broschüre für Kinder"
            },

            // Sprachbausteine Teil 1
            blankText1: {
                content: `Sehr geehrte Damen und Herren,
hiermit kündige ich mein Girokonto __(21)__ der Kontonummer 12345678 zum nächstmöglichen Zeitpunkt.
Ich habe mich __(22)__ diese Entscheidung nicht leicht gemacht, __(23)__ ich mit dem Service Ihrer Bank insgesamt zufrieden war. Allerdings __(24)__ ich in letzter Zeit mehrere Probleme mit der Online-Banking-App, die mich zu diesem Schritt bewegen.
Zum einen __(25)__ die App häufig ab, zum anderen ist der Login-Prozess sehr umständlich. Ich __(26)__ mehrfach versucht, dieses Problem mit Ihrem Support zu klären, __(27)__ leider ohne Erfolg.
Da ich __(28)__ meinen Bankgeschäften inzwischen fast ausschließlich online erledige, __(29)__ eine funktionierende App für mich unverzichtbar. Ich __(30)__ deshalb gezwungen, mein Konto zu kündigen.
Ich bitte Sie, mir den noch auf dem Konto befindlichen Betrag von 347,82 Euro __(31)__ das Konto bei der Sparkasse zu überweisen.
Mit freundlichen Grüßen
Anna Weber`,
                answers: ["mit", "für", "obwohl", "habe", "stürzt", "habe", "aber", "meine", "ist", "bin", "auf"]
            },

            // Sprachbausteine Teil 2
            blankText2: {
                content: `Die Digitalisierung __(31)__ die Bankenbranche grundlegend verändert. Immer mehr Kunden erledigen ihre Bankgeschäfte online __(32)__ per App. Das hat zur Folge, __(33)__ viele Filialen geschlossen werden.
Für die Banken __(34)__ die Digitalisierung sowohl Chancen __(35)__ auch Risiken. Einerseits __(36)__ sie Kosten, andererseits müssen sie in neue Technologien investieren.
Viele Kunden schätzen die Bequemlichkeit des Online-Bankings, __(37)__ es rund um die Uhr verfügbar ist. Allerdings __(38)__ einige Kunden den persönlichen Kontakt in der Filiale.
Die Banken stehen __(39)__ der Herausforderung, sowohl die digitale Welt __(40)__ auch den persönlichen Service anzubieten.`,
                answers: ["hat", "oder", "dass", "bietet", "als", "spart", "weil", "vermissen", "vor", "als"]
            }
        };

        // تهيئة الصفحة
        document.addEventListener('DOMContentLoaded', function() {
            initializePage();
            setupEventListeners();
        });

        let currentLang = 'ar';
        let isDarkMode = false;

        function initializePage() {
            // تحميل الإعدادات المحفوظة
            const savedLang = localStorage.getItem('language') || 'ar';
            const savedDarkMode = localStorage.getItem('darkMode') === 'true';
            const username = localStorage.getItem('username') || 'زائر';
            const access = localStorage.getItem('access');
            
            changeLanguage(savedLang);
            if (savedDarkMode) {
                toggleDarkMode();
            }
            
            // التحقق من حالة المستخدم
            if (access === 'paid' && username) {
                document.getElementById('premiumBadge').style.display = 'flex';
            }
            
            // تهيئة الأجزاء
            initializeTeil1();
            initializeTeil2();  
            initializeTeil3();
            initializeSprachbausteine();
        }

        function initializeTeil1() {
            const headingsList = document.getElementById('headingsList');
            const textsList = document.getElementById('textsList');

            headingsList.innerHTML = '';
            textsList.innerHTML = '';

            // إضافة العناوين
            examData.headings.forEach((heading, index) => {
                const headingItem = document.createElement('div');
                headingItem.className = 'heading-item';
                headingItem.innerHTML = `
                    <strong>${String.fromCharCode(97 + index)})</strong> ${heading}
                `;
                headingItem.dataset.letter = String.fromCharCode(97 + index);
                headingsList.appendChild(headingItem);
            });

            // إضافة النصوص
            examData.texts.forEach((text, index) => {
                const textItem = document.createElement('div');
                textItem.className = 'question';
                textItem.innerHTML = `
                    <h3>Text ${index + 1}</h3>
                    <div class="text-content">${text.content}</div>
                    <div class="answer hidden correct-answer">
                        ${currentLang === 'ar' ? 'الإجابة الصحيحة:' : currentLang === 'de' ? 'Richtige Antwort:' : 'Correct answer:'} ${text.correctAnswer}
                    </div>
                `;
                textsList.appendChild(textItem);
            });
        }

        function initializeTeil2() {
            const longText = document.getElementById('longText');
            const questionsList = document.getElementById('questionsList');

            longText.innerHTML = `<div class="text-content">${examData.longText.content}</div>`;

            questionsList.innerHTML = '';
            examData.longText.questions.forEach((question, index) => {
                const questionItem = document.createElement('div');
                questionItem.className = 'question';
                questionItem.innerHTML = `
                    <h3>Frage ${index + 6}</h3>
                    <p><strong>${question.question}</strong></p>
                    <div class="options">
                        ${question.options.map((option, optIndex) => `
                            <div class="option" data-index="${optIndex}">
                                ${String.fromCharCode(97 + optIndex)}) ${option}
                            </div>
                        `).join('')}
                    </div>
                    <div class="answer hidden correct-answer">
                        ${currentLang === 'ar' ? 'الإجابة الصحيحة:' : currentLang === 'de' ? 'Richtige Antwort:' : 'Correct answer:'} ${question.correctAnswer}
                    </div>
                `;
                questionsList.appendChild(questionItem);
            });
        }

        function initializeTeil3() {
            const situationsList = document.getElementById('situationsList');
            const adsList = document.getElementById('adsList');

            situationsList.innerHTML = '';
            examData.situations.forEach((situation, index) => {
                const situationItem = document.createElement('div');
                situationItem.className = 'situation-item';
                situationItem.innerHTML = `
                    <strong>${index + 11})</strong> ${situation}
                    <div class="answer hidden correct-answer">
                        ${currentLang === 'ar' ? 'الإجابة الصحيحة:' : currentLang === 'de' ? 'Richtige Antwort:' : 'Correct answer:'} ${examData.teil3Answers[index + 11]}
                    </div>
                `;
                situationsList.appendChild(situationItem);
            });

            adsList.innerHTML = '';
            examData.ads.forEach(ad => {
                const adItem = document.createElement('div');
                adItem.className = 'ad-item';
                adItem.innerHTML = `
                    <strong>${ad.id.toUpperCase()}) ${ad.title}</strong>
                    <p>${ad.content}</p>
                `;
                adsList.appendChild(adItem);
            });
        }

        function initializeSprachbausteine() {
            // Teil 1
            const blankText1 = document.getElementById('blankText1');
            const textWithBlanks1 = examData.blankText1.content.replace(/__\(\d+\)__/g, match => {
                const blankNumber = parseInt(match.match(/\d+/)[0]);
                return `<span class="blank">______<span class="blank-answer hidden">${examData.blankText1.answers[blankNumber - 21]}</span></span>`;
            });
            blankText1.innerHTML = textWithBlanks1;

            // Teil 2
            const blankText2 = document.getElementById('blankText2');
            const textWithBlanks2 = examData.blankText2.content.replace(/__\(\d+\)__/g, match => {
                const blankNumber = parseInt(match.match(/\d+/)[0]);
                return `<span class="blank">______<span class="blank-answer hidden">${examData.blankText2.answers[blankNumber - 31]}</span></span>`;
            });
            blankText2.innerHTML = textWithBlanks2;
        }

        function setupEventListeners() {
            // أزرار التحكم
            document.getElementById('showAnswers').addEventListener('click', showAllAnswers);
            document.getElementById('hideAnswers').addEventListener('click', hideAllAnswers);
            
            // زر الرئيسية
            document.getElementById('homeBtn').addEventListener('click', () => {
                window.location.href = 'tahada.html';
            });
            
            // زر الوضع الليلي
            document.getElementById('themeToggle').addEventListener('click', toggleDarkMode);
            
            // زر المستخدم
            document.getElementById('userBtn').addEventListener('click', () => {
                window.location.href = 'tahada.html#profile';
            });

            // زر الاشتراك - تمت إضافته
            document.getElementById('subscribeBtn').addEventListener('click', () => {
                window.location.href = 'tahada.html#subscribe';
            });
            
            // زر اللغة
            document.getElementById('langBtn').addEventListener('click', toggleLangDropdown);
            document.querySelectorAll('.lang-option').forEach(option => {
                option.addEventListener('click', () => {
                    const lang = option.getAttribute('data-lang');
                    changeLanguage(lang);
                    document.getElementById('langDropdown').classList.remove('show');
                });
            });
            
            // إغلاق القوائم المنسدلة بالنقر خارجها
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.language-selector')) {
                    document.getElementById('langDropdown').classList.remove('show');
                }
            });
        }

        function showAllAnswers() {
            document.querySelectorAll('.answer').forEach(answer => {
                answer.classList.remove('hidden');
            });
            document.querySelectorAll('.blank-answer').forEach(answer => {
                answer.classList.remove('hidden');
            });
            document.querySelectorAll('.heading-item').forEach((heading, index) => {
                const letter = heading.dataset.letter;
                examData.texts.forEach(text => {
                    if (text.correctAnswer === examData.headings[letter.charCodeAt(0) - 97]) {
                        heading.classList.add('matched');
                    }
                });
            });
        }

        function hideAllAnswers() {
            document.querySelectorAll('.answer').forEach(answer => {
                answer.classList.add('hidden');
            });
            document.querySelectorAll('.blank-answer').forEach(answer => {
                answer.classList.add('hidden');
            });
            document.querySelectorAll('.heading-item').forEach(heading => {
                heading.classList.remove('matched');
            });
        }

        function toggleDarkMode() {
            isDarkMode = !isDarkMode;
            document.body.classList.toggle('dark-mode', isDarkMode);
            localStorage.setItem('darkMode', isDarkMode);
            
            const themeIcon = document.querySelector('#themeToggle i');
            if (isDarkMode) {
                themeIcon.className = 'fas fa-sun';
            } else {
                themeIcon.className = 'fas fa-moon';
            }
        }

        function toggleLangDropdown() {
            document.getElementById('langDropdown').classList.toggle('show');
        }

        function changeLanguage(lang) {
            currentLang = lang;
            const t = translations[lang];
            
            // تحديث جميع النصوص
            Object.keys(t).forEach(key => {
                const element = document.getElementById(key);
                if (element) {
                    element.textContent = t[key];
                }
            });
            
            localStorage.setItem('language', lang);
            
            // إعادة تهيئة المحتوى لترجمة الإجابات
            initializeTeil1();
            initializeTeil2();
        }
    </script>
</body>
</html>