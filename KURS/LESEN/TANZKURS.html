<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BILDER - TELC B2 Training</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #2196F3;
            --primary-dark: #1976D2;
            --secondary: #42A5F5;
            --secondary-dark: #1E88E5;
            --success: #4CAF50;
            --danger: #f44336;
            --warning: #FFC107;
            --light: #E3F2FD;
            --dark: #0D47A1;
            --text: #333;
            --text-light: #546E7A;
            --white: #ffffff;
            --shadow: 0 10px 30px rgba(33, 150, 243, 0.2);
            --shadow-hover: 0 20px 40px rgba(33, 150, 243, 0.3);
            --radius: 25px;
            --transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(135deg, var(--light) 0%, #BBDEFB 100%);
            color: var(--text);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            transition: var(--transition);
        }

        body.dark-mode {
            background: linear-gradient(135deg, var(--dark) 0%, var(--primary-dark) 100%);
            color: var(--light);
        }

        /* Header Controls - التعديل هنا */
        .header-controls {
            position: fixed;
            top: 20px;
            left: 20px;
            right: 20px;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            z-index: 1000;
            gap: 15px;
        }

        .left-controls {
            display: flex;
            flex-direction: column;
            gap: 10px;
            align-items: flex-start;
        }

        .right-controls {
            display: flex;
            gap: 15px;
            align-items: flex-start;
        }

        .control-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            cursor: pointer;
            box-shadow: var(--shadow);
            border: none;
            background: var(--primary);
            color: var(--white);
            position: relative;
            overflow: hidden;
            transition: var(--transition);
        }

        .control-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .control-btn:hover::before {
            width: 100%;
            height: 100%;
        }

        .control-btn:hover {
            transform: scale(1.15) rotate(5deg);
            box-shadow: 0 8px 25px rgba(33, 150, 243, 0.4);
        }

        /* شارة المشترك الذهبية - تم التعديل */
        .premium-badge-header {
            position: fixed;
            top: 20px;
            right: 90px; /* بجانب الأزرار */
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: #000;
            padding: 0.5rem;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 1.3rem;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
            z-index: 1000;
            display: none;
            align-items: center;
            justify-content: center;
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3); }
            to { box-shadow: 0 4px 20px rgba(255, 215, 0, 0.6); }
        }

        .home-btn {
            background: rgba(255, 255, 255, 0.95);
            border: 2px solid var(--primary);
            border-radius: 50px;
            padding: 0.5rem 1rem;
            cursor: pointer;
            font-weight: 600;
            color: var(--primary-dark);
            box-shadow: var(--shadow);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: var(--transition);
            font-size: 0.9rem;
            border: none;
            width: auto;
            height: auto;
        }

        .dark-mode .home-btn {
            background: rgba(13, 71, 161, 0.95);
            color: var(--light);
            border: 2px solid var(--secondary);
        }

        .home-btn:hover {
            background: var(--primary);
            color: var(--white);
            transform: translateY(-3px);
        }

        /* Language Selector */
        .language-selector {
            display: flex;
            position: relative;
        }

        .lang-btn {
            background: rgba(255, 255, 255, 0.95);
            border: 2px solid var(--primary);
            border-radius: var(--radius);
            padding: 0.5rem 1rem;
            cursor: pointer;
            font-weight: 600;
            color: var(--primary-dark);
            box-shadow: var(--shadow);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: var(--transition);
            border: none;
            width: auto;
            height: auto;
        }

        .dark-mode .lang-btn {
            background: rgba(13, 71, 161, 0.95);
            color: var(--light);
            border: 2px solid var(--secondary);
        }

        .lang-btn:hover {
            background: var(--primary);
            color: var(--white);
            transform: translateY(-3px);
        }

        .lang-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            margin-top: 0.5rem;
            background: var(--white);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            display: none;
            overflow: hidden;
            min-width: 120px;
            animation: dropdownSlide 0.3s ease;
            z-index: 1001;
        }

        .dark-mode .lang-dropdown {
            background: #1a237e;
            color: var(--light);
        }

        @keyframes dropdownSlide {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .lang-dropdown.show {
            display: block;
        }

        .lang-option {
            padding: 0.8rem 1rem;
            cursor: pointer;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: var(--transition);
            color: var(--text);
        }

        .dark-mode .lang-option {
            color: var(--light);
            border-bottom: 1px solid #37474F;
        }

        .lang-option:hover {
            background: #f5f5f5;
            transform: translateX(5px);
        }

        .dark-mode .lang-option:hover {
            background: #283593;
        }

        .lang-option:last-child {
            border-bottom: none;
        }

        /* زر الاشتراك الجديد */
        .subscribe-btn {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: #000;
            border: none;
            border-radius: 50px;
            padding: 0.5rem 1rem;
            cursor: pointer;
            font-weight: 700;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: var(--transition);
            font-size: 0.9rem;
            width: auto;
            height: auto;
        }

        .subscribe-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(255, 215, 0, 0.5);
        }

        /* المحتوى الرئيسي */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: var(--radius);
            padding: 3rem;
            box-shadow: var(--shadow);
            border: 1px solid rgba(33, 150, 243, 0.2);
            backdrop-filter: blur(15px);
            margin-top: 6rem;
            transition: var(--transition);
        }

        .dark-mode .container {
            background: rgba(13, 71, 161, 0.95);
            border: 1px solid rgba(227, 242, 253, 0.2);
        }

        .header {
            text-align: center;
            margin-bottom: 3rem;
            animation: contentSlideUp 0.8s ease;
        }

        @keyframes contentSlideUp {
            from { opacity: 0; transform: translateY(50px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .header h1 {
            font-size: 2.8rem;
            color: var(--primary-dark);
            margin-bottom: 1rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary-dark), var(--primary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .dark-mode .header h1 {
            color: #90CAF9;
        }

        .page-subtitle {
            font-size: 1.2rem;
            color: var(--text-light);
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .dark-mode .page-subtitle {
            color: #B0BEC5;
        }

        /* أزرار التحكم */
        .answer-controls {
            position: sticky;
            top: 80px; /* أعلى قليلاً لتجنب التداخل مع الشارة */
            background: rgba(255, 255, 255, 0.95);
            padding: 1.5rem;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            margin-bottom: 2rem;
            z-index: 100;
            display: flex;
            gap: 1rem;
            justify-content: center;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(33, 150, 243, 0.2);
        }

        .dark-mode .answer-controls {
            background: rgba(13, 71, 161, 0.95);
            border: 1px solid rgba(227, 242, 253, 0.2);
        }

        .answer-btn {
            padding: 1rem 2rem;
            font-size: 1.1rem;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            position: relative;
            overflow: hidden;
            border: none;
            display: flex;
            align-items: center;
            gap: 0.8rem;
            transition: var(--transition);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .answer-btn::before {
            content: '';
            position: absolute;
            top: 0;
            right: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: right 0.6s;
        }

        .answer-btn:hover::before {
            right: 100%;
        }

        .answer-btn:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        }

        .show-answers {
            background: linear-gradient(135deg, var(--success) 0%, #45a049 100%);
            color: var(--white);
        }

        .hide-answers {
            background: linear-gradient(135deg, var(--secondary) 0%, var(--secondary-dark) 100%);
            color: var(--white);
        }

        /* التصميم الخاص بالأسئلة */
        .section {
            margin: 2rem 0;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(33, 150, 243, 0.2);
            backdrop-filter: blur(10px);
            transition: var(--transition);
        }

        .dark-mode .section {
            background: rgba(13, 71, 161, 0.9);
            border: 1px solid rgba(227, 242, 253, 0.2);
        }

        .section-title {
            color: var(--primary-dark);
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            padding-bottom: 0.8rem;
            border-bottom: 2px solid var(--primary);
            font-weight: 600;
        }

        .dark-mode .section-title {
            color: #90CAF9;
        }

        .question {
            margin: 1.5rem 0;
            padding: 1.5rem;
            background: rgba(33, 150, 243, 0.05);
            border-radius: 15px;
            border-right: 4px solid var(--primary);
            transition: var(--transition);
        }

        .dark-mode .question {
            background: rgba(33, 150, 243, 0.1);
        }

        .options {
            margin: 1rem 0;
        }

        .option {
            margin: 0.8rem 0;
            padding: 1rem;
            background: var(--white);
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
        }

        .dark-mode .option {
            background: #1a237e;
            border-color: #37474F;
        }

        .option:hover {
            border-color: var(--primary);
            background: rgba(33, 150, 243, 0.05);
            transform: translateX(-5px);
        }

        .correct {
            border-color: #4CAF50;
            background: rgba(76, 175, 80, 0.1);
        }

        .incorrect {
            border-color: #f44336;
            background: rgba(244, 67, 54, 0.1);
        }

        .answer {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 10px;
            font-weight: 600;
            animation: slideInUp 0.5s ease;
        }

        @keyframes slideInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* التصحيح - تم التعديل للوضع الليلي */
        .correct-answer {
            background: rgba(76, 175, 80, 0.2);
            color: #2E7D32;
            border: 2px solid #4CAF50;
            font-weight: bold;
        }

        .dark-mode .correct-answer {
            background: rgba(76, 175, 80, 0.3);
            color: #A5D6A7;
            border: 2px solid #81C784;
        }

        /* النصوص والعناوين */
        .text-content {
            line-height: 1.7;
            margin: 1.5rem 0;
            padding: 1.5rem;
            background: var(--white);
            border-radius: 15px;
            border: 1px solid #e0e0e0;
            font-size: 1.1rem;
            transition: var(--transition);
        }

        .dark-mode .text-content {
            background: #1a237e;
            border-color: #37474F;
        }

        .headings-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .heading-item {
            padding: 1.2rem;
            background: var(--white);
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            text-align: center;
            font-weight: 500;
            transition: var(--transition);
        }

        .dark-mode .heading-item {
            background: #1a237e;
            border-color: #37474F;
        }

        .matched {
            border-color: #4CAF50;
            background: rgba(76, 175, 80, 0.1);
            transform: scale(1.02);
        }

        /* الإعلانات والوضعيات */
        .ads-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 1.5rem;
            margin: 1.5rem 0;
        }

        .ad-item {
            padding: 1.5rem;
            background: var(--white);
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            min-height: 150px;
            transition: var(--transition);
        }

        .dark-mode .ad-item {
            background: #1a237e;
            border-color: #37474F;
        }

        .ad-item:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }

        .situations-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1.2rem;
        }

        .situation-item {
            padding: 1.2rem;
            background: var(--white);
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            transition: var(--transition);
        }

        .dark-mode .situation-item {
            background: #1a237e;
            border-color: #37474F;
        }

        .situation-item:hover {
            border-color: var(--primary);
            background: rgba(33, 150, 243, 0.05);
        }

        /* Sprachbausteine */
        .fill-blanks {
            margin: 1.5rem 0;
        }

        .blank-text {
            line-height: 2;
            margin: 1.5rem 0;
            font-size: 1.2rem;
            padding: 1.5rem;
            background: var(--white);
            border-radius: 15px;
            border: 1px solid #e0e0e0;
        }

        .dark-mode .blank-text {
            background: #1a237e;
            border-color: #37474F;
        }

        .blank {
            display: inline-block;
            min-width: 120px;
            margin: 0 8px;
            padding: 0.5rem 1rem;
            border-bottom: 3px solid var(--primary);
            text-align: center;
            font-weight: 600;
            background: var(--white);
            border-radius: 8px;
            transition: var(--transition);
        }

        .dark-mode .blank {
            background: #1a237e;
        }

        .blank-answer {
            background: rgba(76, 175, 80, 0.2);
            color: #2E7D32;
            border-color: #4CAF50;
            font-weight: bold;
        }

        .dark-mode .blank-answer {
            background: rgba(76, 175, 80, 0.3);
            color: #A5D6A7;
            border-color: #81C784;
        }

        /* كلمات الإجابات */
        .answers-list {
            margin-top: 2rem;
            padding: 1.5rem;
            background: rgba(33, 150, 243, 0.1);
            border-radius: 15px;
            border: 2px solid var(--primary);
        }

        .answers-list h3 {
            color: var(--primary-dark);
            margin-bottom: 1rem;
            font-size: 1.4rem;
        }

        .dark-mode .answers-list h3 {
            color: #90CAF9;
        }

        .answer-item {
            display: flex;
            margin-bottom: 0.8rem;
            padding: 0.8rem;
            background: var(--white);
            border-radius: 8px;
            border: 1px solid #e0e0e0;
        }

        .dark-mode .answer-item {
            background: #1a237e;
            border-color: #37474F;
        }

        .answer-number {
            font-weight: bold;
            margin-right: 1rem;
            color: var(--primary);
        }

        .hidden {
            display: none;
        }

        /* Floating Elements مثل الصفحة الرئيسية */
        .floating-elements {
            position: fixed;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .floating-element {
            position: absolute;
            font-size: 3.5rem;
            opacity: 0.15;
            animation: float 8s ease-in-out infinite;
            filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));
        }

        .floating-book { top: 15%; left: 8%; animation-delay: 0s; }
        .floating-pen { top: 75%; right: 12%; animation-delay: 1s; }
        .floating-globe { bottom: 20%; left: 15%; font-size: 4.5rem; animation-delay: 2s; }
        .floating-clock { top: 25%; right: 8%; animation-delay: 3s; }
        .floating-graduate { top: 65%; left: 5%; animation-delay: 4s; }
        .floating-notebook { bottom: 15%; right: 10%; animation-delay: 5s; }
        .floating-pencil { top: 45%; left: 12%; font-size: 2.8rem; animation-delay: 6s; }
        .floating-calculator { top: 35%; right: 15%; animation-delay: 7s; }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg) scale(1); }
            33% { transform: translateY(-30px) rotate(5deg) scale(1.1); }
            66% { transform: translateY(-15px) rotate(-3deg) scale(0.95); }
        }

        @media (max-width: 768px) {
            .header-controls {
                top: 15px;
                left: 15px;
                right: 15px;
                gap: 10px;
            }

            .premium-badge-header {
                top: 15px;
                right: 70px;
                width: 45px;
                height: 45px;
                font-size: 1.1rem;
            }

            .home-btn {
                font-size: 0.8rem;
                padding: 0.4rem 0.8rem;
            }

            .container {
                padding: 2rem;
                margin: 1rem;
                margin-top: 5rem;
            }

            .header h1 {
                font-size: 2rem;
            }

            .headings-grid {
                grid-template-columns: 1fr;
            }

            .ads-grid {
                grid-template-columns: 1fr;
            }

            .right-controls {
                gap: 10px;
            }

            .answer-controls {
                top: 70px;
            }
        }

        @media (max-width: 480px) {
            .header-controls {
                flex-direction: column;
                align-items: center;
                gap: 10px;
            }

            .left-controls, .right-controls {
                flex-direction: row;
                justify-content: center;
            }

            .premium-badge-header {
                position: relative;
                top: auto;
                right: auto;
                transform: none;
                margin-top: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- Floating Elements مثل الصفحة الرئيسية -->
    <div class="floating-elements">
        <div class="floating-element floating-book">📚</div>
        <div class="floating-element floating-pen">✏️</div>
        <div class="floating-element floating-globe">🌍</div>
        <div class="floating-element floating-clock">⏰</div>
        <div class="floating-element floating-graduate">🎓</div>
        <div class="floating-element floating-notebook">📓</div>
        <div class="floating-element floating-pencil">✏️</div>
        <div class="floating-element floating-calculator">🧮</div>
    </div>

    <!-- شارة المشترك الذهبية - تم التعديل -->
    <div class="premium-badge-header" id="premiumBadge">
        <i class="fas fa-crown"></i>
    </div>

    <!-- Header Controls -->
    <div class="header-controls">
        <div class="left-controls">
            <button class="home-btn" id="homeBtn">
                <i class="fas fa-home"></i>
                <span id="homeText">الرئيسية</span>
            </button>
            <div class="language-selector">
                <button class="lang-btn" id="langBtn">
                    <span id="langBtnText">العربية</span>
                    <i class="fas fa-chevron-down"></i>
                </button>
                <div class="lang-dropdown" id="langDropdown">
                    <div class="lang-option" data-lang="ar">
                        <span>🇸🇦</span>
                        <span>العربية</span>
                    </div>
                    <div class="lang-option" data-lang="de">
                        <span>🇩🇪</span>
                        <span>Deutsch</span>
                    </div>
                    <div class="lang-option" data-lang="en">
                        <span>🇬🇧</span>
                        <span>English</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="right-controls">
            <button class="subscribe-btn" id="subscribeBtn">
                <i class="fas fa-crown"></i>
                <span id="subscribeText">اشترك الآن</span>
            </button>
            <button class="control-btn" id="themeToggle">
                <i class="fas fa-moon"></i>
            </button>
            <button class="control-btn" id="userBtn">
                <i class="fas fa-user"></i>
            </button>
        </div>
    </div>

    <div class="container">
        <div class="header">
            <h1 id="pageTitle">TANZKURZ - TELC B2 Training</h1>
            <p class="page-subtitle" id="pageSubtitle">تمرين القراءة والفهم - الجزء الأول والثاني والثالث</p>
        </div>

        <!-- أزرار التحكم -->
        <div class="answer-controls">
            <button class="answer-btn show-answers" id="showAnswers">
                <i class="fas fa-check-circle"></i>
                <span id="showAnswersText">إظهار التصحيح</span>
            </button>
            <button class="answer-btn hide-answers" id="hideAnswers">
                <i class="fas fa-eye-slash"></i>
                <span id="hideAnswersText">إخفاء التصحيح</span>
            </button>
        </div>

        <!-- Lesen Teil 1 -->
        <div class="section">
            <h2 class="section-title" id="teil1Title">Lesen Teil 1</h2>
            <p id="teil1Description">Lesen Sie zuerst die zehn Überschriften. Lesen Sie dann die fünf Texte und entscheiden Sie, welche Überschrift (a-j) am besten zu welchem Text (1–5) passt.</p>
            
            <div class="headings-grid" id="headingsList">
                <!-- العناوين سيتم إضافتها بالجافاسكريبت -->
            </div>

            <div id="textsList">
                <!-- النصوص سيتم إضافتها بالجافاسكريبت -->
            </div>
        </div>

        <!-- Lesen Teil 2 -->
        <div class="section">
            <h2 class="section-title" id="teil2Title">Lesen Teil 2</h2>
            <div class="text-content" id="longText">
                <!-- النص الطويل سيتم إضافته بالجافاسكريبت -->
            </div>

            <div id="questionsList">
                <!-- الأسئلة سيتم إضافتها بالجافاسكريبت -->
            </div>
        </div>

        <!-- Lesen Teil 3 -->
        <div class="section">
            <h2 class="section-title" id="teil3Title">Lesen Teil 3</h2>
            <p id="teil3Description">Lesen Sie zuerst die zehn Situationen (11–20) und dann die zwölف Info-Texte (a–l). Welcher Info-Text passt zu welcher Situation?</p>
            
            <div class="situations-grid" id="situationsList">
                <!-- الوضعيات سيتم إضافتها بالجافاسكريبت -->
            </div>

            <div class="ads-grid" id="adsList">
                <!-- الإعلانات سيتم إضافتها بالجافاسكريبت -->
            </div>
        </div>

        <!-- Sprachbausteine Teil 1 -->
        <div class="section">
            <h2 class="section-title" id="sprach1Title">Sprachbausteine Teil 1</h2>
            <div class="fill-blanks">
                <div class="blank-text" id="blankText1">
                    <!-- النص بالفراغات سيتم إضافته بالجافاسكريبت -->
                </div>
            </div>
            <div class="answers-list" id="sprach1Answers">
                <h3>كلمات الإجابات - Sprachbausteine Teil 1</h3>
                <div id="sprach1AnswersList">
                    <!-- كلمات الإجابات سيتم إضافتها بالجافاسكريبت -->
                </div>
            </div>
        </div>

        <!-- Sprachbausteine Teil 2 -->
        <div class="section">
            <h2 class="section-title" id="sprach2Title">Sprachbausteine Teil 2</h2>
            <div class="fill-blanks">
                <div class="blank-text" id="blankText2">
                    <!-- النص بالفراغات سيتم إضافته بالجافاسكريبت -->
                </div>
            </div>
            <div class="answers-list" id="sprach2Answers">
                <h3>كلمات الإجابات - Sprachbausteine Teil 2</h3>
                <div id="sprach2AnswersList">
                    <!-- كلمات الإجابات سيتم إضافتها بالجافاسكريبت -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // الترجمات
        const translations = {
            ar: {
                homeText: "الرئيسية",
                themeText: "الوضع الليلي",
                langText: "العربية", 
                userText: "زائر",
                subscribeText: "اشترك الآن",
                pageTitle: "TANZKURZ - TELC B2 Training",
                pageSubtitle: "تمرين القراءة والفهم - الجزء الأول والثاني والثالث",
                showAnswersText: "إظهار التصحيح",
                hideAnswersText: "إخفاء التصحيح",
                teil1Title: "Lesen Teil 1",
                teil1Description: "Lesen Sie zuerst die zehn Überschriften. Lesen Sie dann die fünf Texte und entscheiden Sie, welche Überschrift (a-j) am besten zu welchem Text (1–5) passt.",
                teil2Title: "Lesen Teil 2", 
                teil3Title: "Lesen Teil 3",
                teil3Description: "Lesen Sie zuerst die zehn Situationen (11–20) und dann die zwölف Info-Texte (a–l). Welcher Info-Text passt zu welcher Situation?",
                sprach1Title: "Sprachbausteine Teil 1",
                sprach2Title: "Sprachbausteine Teil 2"
            },
            de: {
                homeText: "Startseite",
                themeText: "Nachtmodus", 
                langText: "Deutsch",
                userText: "Besucher",
                subscribeText: "Jetzt abonnieren",
                pageTitle: "TANZKURZ - TELC B2 Training",
                pageSubtitle: "Leseverstehen - Teil 1, 2 und 3",
                showAnswersText: "Korrektur anzeigen",
                hideAnswersText: "Korrektur ausblenden",
                teil1Title: "Lesen Teil 1",
                teil1Description: "Lesen Sie zuerst die zehn Überschriften. Lesen Sie dann die fünf Texte und entscheiden Sie, welche Überschrift (a-j) am besten zu welchem Text (1–5) passt.",
                teil2Title: "Lesen Teil 2",
                teil3Title: "Lesen Teil 3", 
                teil3Description: "Lesen Sie zuerst die zehn Situationen (11–20) und dann die zwölf Info-Texte (a–l). Welcher Info-Text passt zu welcher Situation?",
                sprach1Title: "Sprachbausteine Teil 1",
                sprach2Title: "Sprachbausteine Teil 2"
            },
            en: {
                homeText: "Home",
                themeText: "Dark Mode",
                langText: "English",
                userText: "Visitor", 
                subscribeText: "Subscribe Now",
                pageTitle: "TANZKURZ - TELC B2 Training",
                pageSubtitle: "Reading Comprehension - Part 1, 2 and 3",
                showAnswersText: "Show Correction",
                hideAnswersText: "Hide Correction",
                teil1Title: "Reading Part 1",
                teil1Description: "First read the ten headings. Then read the five texts and decide which heading (a-j) best matches which text (1-5).",
                teil2Title: "Reading Part 2",
                teil3Title: "Reading Part 3",
                teil3Description: "First read the ten situations (11-20) and then the twelve info texts (a-l). Which info text matches which situation?",
                sprach1Title: "Language Elements Part 1", 
                sprach2Title: "Language Elements Part 2"
            }
        };

        // بيانات الأسئلة والإجابات من ملف PDF
        const examData = {
            // Lesen Teil 1
            headings: [
                "Tanzen lernen in jedem Alter",
                "Tanz als Therapie",
                "Ein Leben für den Tanz",
                "Tanzende Roboter",
                "Tanzgeschichte zum Anschauen",
                "Tanz und Musik",
                "Tanzwettbewerb für Jugendliche",
                "Tanz und Mode",
                "Tanz als Beruf",
                "Tanzen in der Natur"
            ],
            
            texts: [
                {
                    content: `Die Ausstellung "Tanz durch die Jahrhunderte" im Stadtmuseum zeigt die Entwicklung des Tanzes von der Antike bis zur Gegenwart. Besucher können nicht nur historische Kostüme und Accessoires bewundern, sondern auch Videos mit originalen Choreografien ansehen. Besonders beeindruckend ist der Bereich zum Ballett im 19. Jahrhundert, wo originale Bühnenbilder und Requisiten ausgestellt sind. Die Ausstellung ist interaktiv gestaltet - an mehreren Stationen können Besucher selbst einfache Tanzschritte ausprobieren. Für Schulklassen gibt es spezielle Führungen und Workshops.`,
                    correctAnswer: "Tanzgeschichte zum Anschauen"
                },
                {
                    content: `Maria Schmidt begann mit fünf Jahren Ballett zu tanzen. Mit 16 wurde sie an der staatlichen Ballettschule aufgenommen und mit 20 hatte sie ihr erstes Engagement am Stadttheater. In ihrer 30-jährigen Karriere tanzte sie alle großen klassischen Rollen - von Schwanensee bis zu Romeo und Julia. Heute, mit 55 Jahren, gibt sie ihr Wissen als Ballettmeisterin weiter und choreografiert eigene Stücke. "Der Tanz ist mein Leben", sagt sie. "Auch wenn ich nicht mehr selbst auf der Bühne stehe, lebe ich für die Kunst."`,
                    correctAnswer: "Ein Leben für den Tanz"
                },
                {
                    content: `Beim "Young Dance Contest" können Jugendliche zwischen 14 und 19 Jahren ihr Talent zeigen. Ob Hip-Hop, Breakdance, Contemporary oder Standardtanz - alle Stile sind willkommen. Eine Fachjury bewertet Kreativität, Technik und Ausdruck. Die Gewinner erhalten nicht nur Preisgelder, sondern auch die Chance, an einem internationalen Tanzworkshop teilzunehmen. Anmeldeschluss ist der 15. Mai. Die Vorausscheidungen finden in verschiedenen Städten statt, das Finale wird im Fernsehen übertragen.`,
                    correctAnswer: "Tanzwettbewerb für Jugendliche"
                },
                {
                    content: `Tanztherapie wird immer häufiger in der Behandlung von psychischen Erkrankungen eingesetzt. Durch Bewegung können Patienten Gefühle ausdrücken, die sie verbal nicht mitteilen können. "Tanz ermöglicht einen Zugang zum Unterbewusstsein", erklärt Therapeutin Dr. Weber. "Viele Patienten finden durch den Tanz zu mehr Selbstbewusstsein und lernen, ihren Körper besser anzunehmen." Die Therapie wird sowohl in Einzel- als auch in Gruppensitzungen angeboten und zeigt besonders bei Depressionen und Angststörungen gute Erfolge.`,
                    correctAnswer: "Tanz als Therapie"
                },
                {
                    content: `Die Tanzschule "Move & Groove" bietet Kurse für alle Altersgruppen an - von Kindertanz ab 3 Jahren bis zu Seniorentanz für über 70-Jährige. "Es ist nie zu spät, mit dem Tanzen anzufangen", sagt Inhaber Thomas Berger. "Bei uns lernen Rentner genauso wie Teenager." Das Kursangebot reicht von Standardtänzen über lateinamerikanische Tänze bis zu modernen Tanzstilen. Besonders beliebt sind die "Tanzfitness"-Kurse, die Bewegung mit Musiktraining verbinden. Ein Probekurs ist kostenlos.`,
                    correctAnswer: "Tanzen lernen in jedem Alter"
                }
            ],

            // Lesen Teil 2 - النص الكامل
            longText: {
                content: `Tanzen ist eine der ältesten und universellsten Formen menschlichen Ausdrucks. Schon in prähistorischen Zeiten tanzten Menschen bei Ritualen und Feiern. Heute ist Tanzen nicht nur eine Kunstform, sondern auch eine beliebte Freizeitaktivität mit vielen positiven Effekten auf Körper und Geist.

Regelmäßiges Tanzen verbessert die körperliche Fitness erheblich. Es stärkt die Muskulatur, besonders in Beinen und Rumpf, und verbessert die Haltung. Die koordinierten Bewegungen schulen das Gleichgewicht und die Körperkontrolle. Zudem ist Tanzen ein effektives Herz-Kreislauf-Training, das die Ausdauer steigert und Kalorien verbrennt. Eine Stunde intensives Tanzen kann bis zu 400 Kalorien verbrauchen.

Doch die Vorteile des Tanzens beschränken sich nicht auf den Körper. Tanzen hat auch bedeutende positive Auswirkungen auf die psychische Gesundheit. Beim Tanzen werden Endorphine freigesetzt, die das Wohlbefinden steigern und Stress reduzieren. Viele Menschen berichten, dass sie beim Tanzen Alltagssorgen vergessen und neue Energie tanken.

Die sozialen Aspekte des Tanzens sollten nicht unterschätzt werden. In einer Tanzgruppe oder mit einem Tanzpartner lernt man, auf andere einzugehen und nonverbale Signale zu verstehen. Das stärkt das Einfühlungsvermögen und die sozialen Kompetenzen. Besonders für schüchterne Menschen kann Tanzen ein Weg sein, leichter Kontakte zu knüpfen.

Für Kinder ist Tanzen besonders förderlich. Es unterstützt die motorische Entwicklung, schult das Rhythmusgefühl und fördert die Kreativität. In der Gruppe lernen Kinder zudem, Regeln einzuhalten und Rücksicht auf andere zu nehmen. Viele Pädagogen empfehlen Tanz als Ausgleich zum oft bewegungsarmen Schulalltag.

Im Alter hilft Tanzen, die geistige und körperliche Beweglichkeit zu erhalten. Studien zeigen, dass regelmäßiges Tanzen das Demenzrisiko senken kann, da es sowohl kognitive als auch motorische Fähigkeiten fordert. Seniorentanzgruppen bieten zudem eine willkommene Gelegenheit zur Geselligkeit und beugen der Einsamkeit vor.

Tanztherapie wird zunehmend als ergänzende Behandlungsmethode in der Medizin anerkannt. Sie kommt bei verschiedenen psychischen Erkrankungen zum Einsatz und hilft Patienten, einen besseren Zugang zu ihren Gefühlen zu finden. Auch in der Rehabilitation nach Unfällen oder Operationen kann Tanztherapie den Heilungsprozess unterstützen.

Trotz aller Vorteile scheuen viele Erwachsene davor zurück, mit dem Tanzen anzufangen. Die häufigsten Gründe sind Scham, Angst vor Blamage oder die Überzeugung, nicht rhythmisch genug zu sein. Dabei sind die meisten Tanzschulen genau auf solche Bedenken eingestellt und bieten spezielle Kurse für absolute Anfänger an.

Die Wahl des richtigen Tanzstils ist entscheidend für den langfristigen Spaß am Tanzen. Während einige Menschen die klaren Strukturen des Standardtanzes bevorzugen, lieben andere die Freiheit des Contemporary Dance oder die Energie des Hip-Hop. Probestunden in verschiedenen Stilen helfen bei der Entscheidung.

Zusammenfassend lässt sich sagen: Tanzen ist mehr als nur Bewegung zur Musik. Es ist eine ganzheitliche Aktivität, die Körper, Geist und Seele gleichermaßen bereichert. Egal ob allein, zu zweit oder in der Gruppe - Tanzen kann in jedem Alter und auf jedem Niveau ausgeübt werden und bringt Freude, Gesundheit und Gemeinschaft.`,
                questions: [
                    {
                        question: "Was ist einer der körperlichen Vorteile des Tanzens?",
                        options: [
                            "Es verbessert vor allem die Armmuskulatur.",
                            "Es hilft beim Abnehmen und stärkt das Herz.", 
                            "Es ersetzt jedes andere Fitnesstraining."
                        ],
                        correctAnswer: "Es hilft beim Abnehmen und stärkt das Herz."
                    },
                    {
                        question: "Warum ist Tanzen gut für die psychische Gesundheit?",
                        options: [
                            "Weil es Endorphine freisetzt und Stress reduziert.",
                            "Weil es teure Therapien überflüssig macht.",
                            "Weil es nur in der Gruppe ausgeübt werden kann."
                        ],
                        correctAnswer: "Weil es Endorphine freisetzt und Stress reduziert."
                    },
                    {
                        question: "Was lernen Kinder besonders beim Tanzen?", 
                        options: [
                            "Wie man Musikinstrumente spielt.",
                            "Rhythmusgefühl und Rücksichtnahme.",
                            "Dass sie besser als andere sind."
                        ],
                        correctAnswer: "Rhythmusgefühl und Rücksichtnahme."
                    },
                    {
                        question: "Warum zögern viele Erwachsene, mit dem Tanzen anzufangen?",
                        options: [
                            "Weil sie denken, sie sind zu alt dafür.",
                            "Aus Scham und Angst vor Blamage.",
                            "Weil es zu teuer und zeitaufwendig ist."
                        ],
                        correctAnswer: "Aus Scham und Angst vor Blamage."
                    },
                    {
                        question: "Was ist die Hauptaussage des Textes?",
                        options: [
                            "Tanzen ist nur für professionelle Tänzer geeignet.",
                            "Tanzen hat viele Vorteile für Menschen aller Altersgruppen.", 
                            "Tanzen sollte als Therapie verschrieben werden."
                        ],
                        correctAnswer: "Tanzen hat viele Vorteile für Menschen aller Altersgruppen."
                    }
                ]
            },

            // Lesen Teil 3
            situations: [
                "Sie möchten mit Ihrem 8-jährigen Sohn tanzen lernen.",
                "Sie suchen eine Therapieform bei Depressionen.",
                "Sie interessieren sich für die Geschichte des Tanzes.",
                "Sie sind 70 Jahre alt und möchten sich bewegen.",
                "Sie wollen an einem Wettbewerb für junge Tänzer teilnehmen.",
                "Sie möchten professionelle Tänzerin werden.", 
                "Sie interessieren sich für die Verbindung von Tanz und Kleidung.",
                "Sie möchten alleine zu Hause tanzen.",
                "Sie suchen eine Aktivität, die Körper und Geist trainiert.",
                "Sie wollen wissen, wie Tanz und Musik zusammenhängen."
            ],

            ads: [
                {
                    id: "a",
                    title: "Tanzstudio Bewegungsfreude",
                    content: "Wir bieten Kurse für alle Altersgruppen! Speziell für Kinder von 6-10 Jahren: Kreativer Kindertanz. Spielerisch lernen die Kleinen Rhythmusgefühl und Körperbewusstsein. Unsere erfahrenen Tanzpädagogen achten auf eine gesunde Haltung und machen jede Stunde zum Erlebnis. Probestunde kostenlos! Anmeldung unter www.tanzstudio-bewegungsfreude.de"
                },
                {
                    id: "b", 
                    title: "Tanztherapie-Zentrum",
                    content: "Tanztherapie bei Depressionen, Angststörungen und Trauma. In unserer Praxis arbeiten zertifizierte Tanztherapeuten mit einem ganzheitlichen Ansatz. Durch Bewegung und Tanz finden Sie Zugang zu Ihren Emotionen und lernen, Ihren Körper positiv zu erleben. Kostenübernahme durch viele Krankenkassen möglich. Infoabend jeden ersten Mittwoch im Monat."
                },
                {
                    id: "c",
                    title: "Museum für Tanzgeschichte", 
                    content: "Erleben Sie 500 Jahre Tanzgeschichte! Von höfischen Tänzen der Renaissance bis zum modernen Hip-Hop. Sonderausstellung: 'Tanz im Wandel der Zeit' mit originalen Kostümen, Videos und interaktiven Stationen. Öffnungszeiten: Di-So 10-18 Uhr. Ermäßigter Eintritt für Studenten und Senioren."
                },
                {
                    id: "d",
                    title: "Seniorentanzkreis",
                    content: "Tanzen hält jung! Unser Seniorentanzkreis trifft sich jeden Dienstag von 15-17 Uhr. Wir tanzen Walzer, Foxtrott, Tango und moderne Tänze - alles in gemütlichem Tempo. Keine Vorkenntnisse nötig. Auch für Menschen mit Gehhilfen geeignet. Ort: Gemeindehaus, Zimmer 3. Kosten: 5€ pro Termin."
                },
                {
                    id: "e",
                    title: "Jugend tanzt - Wettbewerb 2024",
                    content: "Du bist zwischen 14 und 21 Jahren und tanzt leidenschaftlich gern? Dann melde dich für unseren Wettbewerb an! Kategorien: Solo, Duo und Gruppe. Stilrichtungen: alle! Anmeldeschluss: 30. Juni. Vorausscheidungen im Juli, Finale im September mit tollen Preisen. Mehr Infos: www.jugend-tanzt-wettbewerb.de"
                },
                {
                    id: "f",
                    title: "Berufsfachschule für Tanz",
                    content: "Ausbildung zum professionellen Tänzer/Tanzpädagogen. 3-jährige Vollzeitausbildung mit staatlicher Anerkennung. Fächer: Ballett, Modern Dance, Jazz, Choreografie, Tanzpädagogik, Anatomie. Aufnahmeprüfung: 15. Juli. Bewerbungsunterlagen an: info@tanzfachschule-berlin.de"
                },
                {
                    id: "g",
                    title: "Tanz und Mode - Symposium",
                    content: "Wie beeinflussen sich Tanz und Mode gegenseitig? Vorträge und Workshops zu historischen und modernen Tanzkostümen. Von Tutu bis Streetwear. Termin: 12.-14. November. Ort: Modeakademie München. Anmeldung erforderlich unter: www.tanz-mode-symposium.de"
                },
                {
                    id: "h", 
                    title: "Online-Tanzkurs",
                    content: "Lernen Sie tanzen, wann und wo Sie wollen! Über 200 Video-Tutorials für alle Levels. Von Basic Steps bis zu komplexen Choreografien. Monatlich kündbar. Erste 14 Tage kostenlos testen! Alle gängigen Tanzstile verfügbar. Jetzt anmelden: www.dance-online-academy.com"
                },
                {
                    id: "i",
                    title: "Tanzmedizin und Gesundheit",
                    content: "Vortragsreihe: 'Tanzen für Körper und Geist'. Experten referieren über die gesundheitlichen Vorteile des Tanzens. Themen: Tanz als Demenzprävention, Tanztherapie, Tanz für psychische Gesundheit. Eintritt frei. Termine: jeweils mittwochs 19 Uhr im Gesundheitszentrum."
                },
                {
                    id: "j",
                    title: "Rhythmus und Bewegung", 
                    content: "Workshop: Die Verbindung von Musik und Tanz. Lernen Sie, wie verschiedene Musikstile die Tanzbewegungen beeinflussen. Von klassischer Musik über Jazz bis zu elektronischer Musik. Für Tänzer aller Levels. Termin: 25. August, 10-17 Uhr. Kosten: 60€. Anmeldung: musik-tanz-workshop@email.de"
                },
                {
                    id: "k",
                    title: "Tanzperformance 'Lebensfreude'",
                    content: "Eine mitreißende Show über die Freude am Tanzen. Professionelle Tänzer zeigen verschiedene Stile von Ballett bis Breakdance. Termine: 5.-7. September, jeweils 20 Uhr. Kartenvorverkauf ab sofort. Ort: Stadttheater. Ermäßigungen für Gruppen ab 10 Personen."
                },
                {
                    id: "l",
                    title: "Tanzfestival der Kulturen",
                    content: "Erleben Sie Tänze aus aller Welt! Von lateinamerikanischen Tänzen über afrikanische Rhythmen bis zu asiatischen Traditionen. Mit Workshops, Vorführungen und Mitmachaktionen für die ganze Familie. Eintritt frei! Termin: 15. September, 12-20 Uhr im Stadtpark."
                }
            ],

            // الإجابات الصحيحة لـ Lesen Teil 3
            teil3Answers: {
                11: "Tanzstudio Bewegungsfreude",
                12: "Tanztherapie-Zentrum", 
                13: "Museum für Tanzgeschichte",
                14: "Seniorentanzkreis",
                15: "Jugend tanzt - Wettbewerb 2024",
                16: "Berufsfachschule für Tanz",
                17: "Tanz und Mode - Symposium",
                18: "Online-Tanzkurs",
                19: "Tanzmedizin und Gesundheit", 
                20: "Rhythmus und Bewegung"
            },

            // Sprachbausteine Teil 1
            blankText1: {
                content: `Liebe Tina,
vielen Dank für deine Einladung __(21)__ deine Geburtstagsparty! Ich komme sehr gerne und freue mich schon darauf.
Leider kann ich nicht so lange bleiben, __(22)__ ich am nächsten Tag früh arbeiten muss. Aber __(23)__ ein paar Stunden bin ich auf jeden Fall dabei.
Ich habe gehört, ihr feiert in dem neuen Restaurant __(24)__ Ecke. Das ist ja super! Ich war da noch nie, __(25)__ alle sagen, das Essen sei ausgezeichnet.
Weißt du schon, __(26)__ du dir zum Geburtstag wünschst? Oder soll ich dir einfach eine Überraschung mitbringen? __(27)__ du etwas Bestimmtes möchtest, sag mir bitte Bescheid.
Ich überlege noch, __(28)__ ich anziehen soll. Vielleicht mein neues blaues Kleid? __(29)__ ich könnte auch die schwarze Hose mit der roten Bluse tragen. Was meinst du?
Ach ja, eine Frage noch: Soll ich etwas zu trinken mitbringen? __(30)__ ich weiß, dass du gerne Saft magst, könnte ich einen frischen Orangensaft mitnehmen.
Ich bin schon ganz gespannt __(31)__ den Abend! Bis Samstag also!

Liebe Grüße
Deine Anna`,
                answers: ["zu", "weil", "für", "an der", "aber", "was", "Falls", "was", "Oder", "Weil", "auf"]
            },

            // Sprachbausteine Teil 2
            blankText2: {
                content: `Tanzen __(31)__ nicht nur eine Kunstform, sondern auch eine wunderbare Möglichkeit, sich fit zu halten. Viele Menschen tanzen, __(32)__ sie Musik hören, ohne darüber nachzudenken. 
__(33)__ man regelmäßig tanzt, kann man seine Koordination und Ausdauer erheblich verbessern. __(34)__ dem Tanzen werden fast alle Muskeln des Körpers beansprucht, __(35)__ es zu einem ganzheitlichen Training macht.
Ein großer Vorteil ist, __(36)__ Tanzen in jedem Alter möglich ist. __(37)__ Kinder ihre motorischen Fähigkeiten entwickeln, können Senioren __(38)__ Beweglichkeit erhalten. 
Man sollte __(39)__ darauf achten, die richtige Tanzart für sein Fitnesslevel zu wählen. __(40)__ Anfänger mit einfachen Schritten beginnen, können Fortgeschrittene komplexe Choreografien lernen.
Zusammenfassend lässt sich sagen, dass Tanzen eine der schönsten Arten ist, Sport zu treiben.`,
                answers: ["ist", "wenn", "Wenn", "Beim", "was", "dass", "Während", "ihre", "allerdings", "Während"]
            }
        };

        // تهيئة الصفحة
        document.addEventListener('DOMContentLoaded', function() {
            initializePage();
            setupEventListeners();
        });

        let currentLang = 'ar';
        let isDarkMode = false;

        function initializePage() {
            // تحميل الإعدادات المحفوظة
            const savedLang = localStorage.getItem('language') || 'ar';
            const savedDarkMode = localStorage.getItem('darkMode') === 'true';
            const username = localStorage.getItem('username') || 'زائر';
            const access = localStorage.getItem('access');
            
            changeLanguage(savedLang);
            if (savedDarkMode) {
                toggleDarkMode();
            }
            
            // التحقق من حالة المستخدم
            if (access === 'paid' && username) {
                document.getElementById('premiumBadge').style.display = 'flex';
            }
            
            // تهيئة الأجزاء
            initializeTeil1();
            initializeTeil2();  
            initializeTeil3();
            initializeSprachbausteine();
        }

        function initializeTeil1() {
            const headingsList = document.getElementById('headingsList');
            const textsList = document.getElementById('textsList');

            headingsList.innerHTML = '';
            textsList.innerHTML = '';

            // إضافة العناوين
            examData.headings.forEach((heading, index) => {
                const headingItem = document.createElement('div');
                headingItem.className = 'heading-item';
                headingItem.innerHTML = `
                    <strong>${String.fromCharCode(97 + index)})</strong> ${heading}
                `;
                headingItem.dataset.letter = String.fromCharCode(97 + index);
                headingsList.appendChild(headingItem);
            });

            // إضافة النصوص
            examData.texts.forEach((text, index) => {
                const textItem = document.createElement('div');
                textItem.className = 'question';
                textItem.innerHTML = `
                    <h3>Text ${index + 1}</h3>
                    <div class="text-content">${text.content}</div>
                    <div class="answer hidden correct-answer">
                        ${currentLang === 'ar' ? 'الإجابة الصحيحة:' : currentLang === 'de' ? 'Richtige Antwort:' : 'Correct answer:'} ${text.correctAnswer}
                    </div>
                `;
                textsList.appendChild(textItem);
            });
        }

        function initializeTeil2() {
            const longText = document.getElementById('longText');
            const questionsList = document.getElementById('questionsList');

            longText.innerHTML = `<div class="text-content">${examData.longText.content}</div>`;

            questionsList.innerHTML = '';
            examData.longText.questions.forEach((question, index) => {
                const questionItem = document.createElement('div');
                questionItem.className = 'question';
                questionItem.innerHTML = `
                    <h3>Frage ${index + 6}</h3>
                    <p><strong>${question.question}</strong></p>
                    <div class="options">
                        ${question.options.map((option, optIndex) => `
                            <div class="option" data-index="${optIndex}">
                                ${String.fromCharCode(97 + optIndex)}) ${option}
                            </div>
                        `).join('')}
                    </div>
                    <div class="answer hidden correct-answer">
                        ${currentLang === 'ar' ? 'الإجابة الصحيحة:' : currentLang === 'de' ? 'Richtige Antwort:' : 'Correct answer:'} ${question.correctAnswer}
                    </div>
                `;
                questionsList.appendChild(questionItem);
            });
        }

        function initializeTeil3() {
            const situationsList = document.getElementById('situationsList');
            const adsList = document.getElementById('adsList');

            situationsList.innerHTML = '';
            examData.situations.forEach((situation, index) => {
                const situationItem = document.createElement('div');
                situationItem.className = 'situation-item';
                situationItem.innerHTML = `
                    <strong>${index + 11})</strong> ${situation}
                    <div class="answer hidden correct-answer">
                        ${currentLang === 'ar' ? 'الإجابة الصحيحة:' : currentLang === 'de' ? 'Richtige Antwort:' : 'Correct answer:'} ${examData.teil3Answers[index + 11]}
                    </div>
                `;
                situationsList.appendChild(situationItem);
            });

            adsList.innerHTML = '';
            examData.ads.forEach(ad => {
                const adItem = document.createElement('div');
                adItem.className = 'ad-item';
                adItem.innerHTML = `
                    <strong>${ad.id.toUpperCase()}) ${ad.title}</strong>
                    <p>${ad.content}</p>
                `;
                adsList.appendChild(adItem);
            });
        }

        function initializeSprachbausteine() {
            // Teil 1
            const blankText1 = document.getElementById('blankText1');
            const textWithBlanks1 = examData.blankText1.content.replace(/__\(\d+\)__/g, match => {
                const blankNumber = parseInt(match.match(/\d+/)[0]);
                return `<span class="blank">______<span class="blank-answer hidden">${examData.blankText1.answers[blankNumber - 21]}</span></span>`;
            });
            blankText1.innerHTML = textWithBlanks1;

            // إضافة كلمات الإجابات لـ Teil 1
            const sprach1AnswersList = document.getElementById('sprach1AnswersList');
            sprach1AnswersList.innerHTML = '';
            examData.blankText1.answers.forEach((answer, index) => {
                const answerItem = document.createElement('div');
                answerItem.className = 'answer-item';
                answerItem.innerHTML = `
                    <span class="answer-number">${index + 21})</span>
                    <span>${answer}</span>
                `;
                sprach1AnswersList.appendChild(answerItem);
            });

            // Teil 2
            const blankText2 = document.getElementById('blankText2');
            const textWithBlanks2 = examData.blankText2.content.replace(/__\(\d+\)__/g, match => {
                const blankNumber = parseInt(match.match(/\d+/)[0]);
                return `<span class="blank">______<span class="blank-answer hidden">${examData.blankText2.answers[blankNumber - 31]}</span></span>`;
            });
            blankText2.innerHTML = textWithBlanks2;

            // إضافة كلمات الإجابات لـ Teil 2
            const sprach2AnswersList = document.getElementById('sprach2AnswersList');
            sprach2AnswersList.innerHTML = '';
            examData.blankText2.answers.forEach((answer, index) => {
                const answerItem = document.createElement('div');
                answerItem.className = 'answer-item';
                answerItem.innerHTML = `
                    <span class="answer-number">${index + 31})</span>
                    <span>${answer}</span>
                `;
                sprach2AnswersList.appendChild(answerItem);
            });
        }

        function setupEventListeners() {
            // أزرار التحكم
            document.getElementById('showAnswers').addEventListener('click', showAllAnswers);
            document.getElementById('hideAnswers').addEventListener('click', hideAllAnswers);
            
            // زر الرئيسية
            document.getElementById('homeBtn').addEventListener('click', () => {
                window.location.href = 'tahada.html';
            });
            
            // زر الاشتراك
            document.getElementById('subscribeBtn').addEventListener('click', () => {
                window.location.href = 'tahada.html#subscribe';
            });
            
            // زر الوضع الليلي
            document.getElementById('themeToggle').addEventListener('click', toggleDarkMode);
            
            // زر المستخدم
            document.getElementById('userBtn').addEventListener('click', () => {
                window.location.href = 'tahada.html#profile';
            });
            
            // زر اللغة
            document.getElementById('langBtn').addEventListener('click', toggleLangDropdown);
            document.querySelectorAll('.lang-option').forEach(option => {
                option.addEventListener('click', () => {
                    const lang = option.getAttribute('data-lang');
                    changeLanguage(lang);
                    document.getElementById('langDropdown').classList.remove('show');
                });
            });
            
            // إغلاق القوائم المنسدلة بالنقر خارجها
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.language-selector')) {
                    document.getElementById('langDropdown').classList.remove('show');
                }
            });
        }

        function showAllAnswers() {
            document.querySelectorAll('.answer').forEach(answer => {
                answer.classList.remove('hidden');
            });
            document.querySelectorAll('.blank-answer').forEach(answer => {
                answer.classList.remove('hidden');
            });
            document.querySelectorAll('.heading-item').forEach((heading, index) => {
                const letter = heading.dataset.letter;
                examData.texts.forEach(text => {
                    if (text.correctAnswer === examData.headings[letter.charCodeAt(0) - 97]) {
                        heading.classList.add('matched');
                    }
                });
            });
        }

        function hideAllAnswers() {
            document.querySelectorAll('.answer').forEach(answer => {
                answer.classList.add('hidden');
            });
            document.querySelectorAll('.blank-answer').forEach(answer => {
                answer.classList.add('hidden');
            });
            document.querySelectorAll('.heading-item').forEach(heading => {
                heading.classList.remove('matched');
            });
        }

        function toggleDarkMode() {
            isDarkMode = !isDarkMode;
            document.body.classList.toggle('dark-mode', isDarkMode);
            localStorage.setItem('darkMode', isDarkMode);
            
            const themeIcon = document.querySelector('#themeToggle i');
            if (isDarkMode) {
                themeIcon.className = 'fas fa-sun';
            } else {
                themeIcon.className = 'fas fa-moon';
            }
        }

        function toggleLangDropdown() {
            document.getElementById('langDropdown').classList.toggle('show');
        }

        function changeLanguage(lang) {
            currentLang = lang;
            const t = translations[lang];
            
            // تحديث جميع النصوص
            Object.keys(t).forEach(key => {
                const element = document.getElementById(key);
                if (element) {
                    element.textContent = t[key];
                }
            });
            
            localStorage.setItem('language', lang);
            
            // إعادة تهيئة المحتوى لترجمة الإجابات
            initializeTeil1();
            initializeTeil2();
        }
    </script>
</body>
</html>