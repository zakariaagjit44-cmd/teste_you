<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Umweltschutz - TELC B2 Training</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #2196F3;
            --primary-dark: #1976D2;
            --secondary: #42A5F5;
            --secondary-dark: #1E88E5;
            --success: #4CAF50;
            --danger: #f44336;
            --warning: #FFC107;
            --light: #E3F2FD;
            --dark: #0D47A1;
            --text: #333;
            --text-light: #546E7A;
            --white: #ffffff;
            --shadow: 0 10px 30px rgba(33, 150, 243, 0.2);
            --shadow-hover: 0 20px 40px rgba(33, 150, 243, 0.3);
            --radius: 25px;
            --transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(135deg, var(--light) 0%, #BBDEFB 100%);
            color: var(--text);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            transition: var(--transition);
        }

        body.dark-mode {
            background: linear-gradient(135deg, var(--dark) 0%, var(--primary-dark) 100%);
            color: var(--light);
        }

        /* Header Controls - ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù„Ù…Ø·Ø§Ø¨Ù‚Ø© Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ØªÙ…Ø§Ù…Ø§Ù‹ */
        .header-controls {
            position: fixed;
            top: 20px;
            right: 20px;
            display: flex;
            gap: 15px;
            z-index: 1000;
        }

        .control-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            cursor: pointer;
            box-shadow: var(--shadow);
            border: none;
            background: var(--primary);
            color: var(--white);
            position: relative;
            overflow: hidden;
            transition: var(--transition);
        }

        .control-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .control-btn:hover::before {
            width: 100%;
            height: 100%;
        }

        .control-btn:hover {
            transform: scale(1.15) rotate(5deg);
            box-shadow: 0 8px 25px rgba(33, 150, 243, 0.4);
        }

        /* Language Selector - ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù„Ù…Ø·Ø§Ø¨Ù‚Ø© Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
        .language-selector {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
        }

        .lang-btn {
            background: rgba(255, 255, 255, 0.95);
            border: 2px solid var(--primary);
            border-radius: var(--radius);
            padding: 0.5rem 1rem;
            cursor: pointer;
            font-weight: 600;
            color: var(--primary-dark);
            box-shadow: var(--shadow);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: var(--transition);
            border: none;
            width: auto;
            height: auto;
        }

        .dark-mode .lang-btn {
            background: rgba(13, 71, 161, 0.95);
            color: var(--light);
            border: 2px solid var(--secondary);
        }

        .lang-btn:hover {
            background: var(--primary);
            color: var(--white);
            transform: translateY(-3px);
        }

        .lang-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            margin-top: 0.5rem;
            background: var(--white);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            display: none;
            overflow: hidden;
            min-width: 120px;
            animation: dropdownSlide 0.3s ease;
            z-index: 1001;
        }

        .dark-mode .lang-dropdown {
            background: #1a237e;
            color: var(--light);
        }

        @keyframes dropdownSlide {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .lang-dropdown.show {
            display: block;
        }

        .lang-option {
            padding: 0.8rem 1rem;
            cursor: pointer;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: var(--transition);
            color: var(--text);
        }

        .dark-mode .lang-option {
            color: var(--light);
            border-bottom: 1px solid #37474F;
        }

        .lang-option:hover {
            background: #f5f5f5;
            transform: translateX(5px);
        }

        .dark-mode .lang-option:hover {
            background: #283593;
        }

        .lang-option:last-child {
            border-bottom: none;
        }

        /* Ø´Ø§Ø±Ø© Ø§Ù„Ù…Ø´ØªØ±Ùƒ Ø§Ù„Ø°Ù‡Ø¨ÙŠØ© - ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù„Ù…Ø·Ø§Ø¨Ù‚Ø© Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
        .premium-badge {
            position: fixed;
            top: 85px;
            left: 20px;
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #FFD700 0%, #FFA000 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(255, 215, 0, 0.4);
            animation: rotate 4s linear infinite;
            display: none;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¯Ø¹Ù… - ØªÙ…Øª Ø¥Ø¶Ø§ÙØªÙ‡Ø§ Ù„Ù…Ø·Ø§Ø¨Ù‚Ø© Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
        .support-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .support-modal-content {
            background: var(--white);
            padding: 2rem;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            max-width: 400px;
            width: 90%;
            text-align: center;
        }

        .dark-mode .support-modal-content {
            background: #1a237e;
        }

        .support-info {
            margin: 1.5rem 0;
        }

        .support-item {
            padding: 0.8rem;
            margin: 0.5rem 0;
            background: rgba(33, 150, 243, 0.1);
            border-radius: 10px;
            font-weight: 500;
        }

        .close-modal {
            background: var(--primary);
            color: var(--white);
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
        }

        .close-modal:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }

        /* Ø²Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© - ØªÙ… Ø¥Ø²Ø§Ù„ØªÙ‡ ÙˆØ§Ø³ØªØ¨Ø¯Ø§Ù„Ù‡ Ø¨Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… */

        /* Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: var(--radius);
            padding: 3rem;
            box-shadow: var(--shadow);
            border: 1px solid rgba(33, 150, 243, 0.2);
            backdrop-filter: blur(15px);
            margin-top: 6rem;
            transition: var(--transition);
        }

        .dark-mode .container {
            background: rgba(13, 71, 161, 0.95);
            border: 1px solid rgba(227, 242, 253, 0.2);
        }

        .header {
            text-align: center;
            margin-bottom: 3rem;
            animation: contentSlideUp 0.8s ease;
        }

        @keyframes contentSlideUp {
            from { opacity: 0; transform: translateY(50px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .header h1 {
            font-size: 2.8rem;
            color: var(--primary-dark);
            margin-bottom: 1rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary-dark), var(--primary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .dark-mode .header h1 {
            color: #90CAF9;
        }

        .page-subtitle {
            font-size: 1.2rem;
            color: var(--text-light);
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .dark-mode .page-subtitle {
            color: #B0BEC5;
        }

        /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… - ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù„Ø¬Ø¹Ù„Ù‡Ø§ Ø«Ø§Ø¨ØªØ© ÙÙŠ Ø§Ù„Ø£Ø¹Ù„Ù‰ */
        .answer-controls {
            position: sticky;
            top: 0;
            background: rgba(255, 255, 255, 0.95);
            padding: 1.5rem;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            margin-bottom: 2rem;
            z-index: 100;
            display: flex;
            gap: 1rem;
            justify-content: center;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(33, 150, 243, 0.2);
        }

        .dark-mode .answer-controls {
            background: rgba(13, 71, 161, 0.95);
            border: 1px solid rgba(227, 242, 253, 0.2);
        }

        .answer-btn {
            padding: 1rem 2rem;
            font-size: 1.1rem;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            position: relative;
            overflow: hidden;
            border: none;
            display: flex;
            align-items: center;
            gap: 0.8rem;
            transition: var(--transition);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .answer-btn::before {
            content: '';
            position: absolute;
            top: 0;
            right: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: right 0.6s;
        }

        .answer-btn:hover::before {
            right: 100%;
        }

        .answer-btn:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        }

        .show-answers {
            background: linear-gradient(135deg, var(--success) 0%, #45a049 100%);
            color: var(--white);
        }

        .hide-answers {
            background: linear-gradient(135deg, var(--secondary) 0%, var(--secondary-dark) 100%);
            color: var(--white);
        }

        /* Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø®Ø§Øµ Ø¨Ø§Ù„Ø£Ø³Ø¦Ù„Ø© */
        .section {
            margin: 2rem 0;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(33, 150, 243, 0.2);
            backdrop-filter: blur(10px);
            transition: var(--transition);
        }

        .dark-mode .section {
            background: rgba(13, 71, 161, 0.9);
            border: 1px solid rgba(227, 242, 253, 0.2);
        }

        .section-title {
            color: var(--primary-dark);
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            padding-bottom: 0.8rem;
            border-bottom: 2px solid var(--primary);
            font-weight: 600;
        }

        .dark-mode .section-title {
            color: #90CAF9;
        }

        .question {
            margin: 1.5rem 0;
            padding: 1.5rem;
            background: rgba(33, 150, 243, 0.05);
            border-radius: 15px;
            border-right: 4px solid var(--primary);
            transition: var(--transition);
        }

        .dark-mode .question {
            background: rgba(33, 150, 243, 0.1);
        }

        .options {
            margin: 1rem 0;
        }

        .option {
            margin: 0.8rem 0;
            padding: 1rem;
            background: var(--white);
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
        }

        .dark-mode .option {
            background: #1a237e;
            border-color: #37474F;
        }

        .option:hover {
            border-color: var(--primary);
            background: rgba(33, 150, 243, 0.05);
            transform: translateX(-5px);
        }

        .correct {
            border-color: #4CAF50;
            background: rgba(76, 175, 80, 0.1);
        }

        .incorrect {
            border-color: #f44336;
            background: rgba(244, 67, 54, 0.1);
        }

        .answer {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 10px;
            font-weight: 600;
            animation: slideInUp 0.5s ease;
        }

        @keyframes slideInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Ø§Ù„ØªØµØ­ÙŠØ­ - ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù„Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ */
        .correct-answer {
            background: rgba(76, 175, 80, 0.2);
            color: #2E7D32;
            border: 2px solid #4CAF50;
            font-weight: bold;
        }

        .dark-mode .correct-answer {
            background: rgba(76, 175, 80, 0.3);
            color: #A5D6A7;
            border: 2px solid #81C784;
        }

        /* Ø§Ù„Ù†ØµÙˆØµ ÙˆØ§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† */
        .text-content {
            line-height: 1.7;
            margin: 1.5rem 0;
            padding: 1.5rem;
            background: var(--white);
            border-radius: 15px;
            border: 1px solid #e0e0e0;
            font-size: 1.1rem;
            transition: var(--transition);
        }

        .dark-mode .text-content {
            background: #1a237e;
            border-color: #37474F;
        }

        .headings-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .heading-item {
            padding: 1.2rem;
            background: var(--white);
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            text-align: center;
            font-weight: 500;
            transition: var(--transition);
        }

        .dark-mode .heading-item {
            background: #1a237e;
            border-color: #37474F;
        }

        .matched {
            border-color: #4CAF50;
            background: rgba(76, 175, 80, 0.1);
            transform: scale(1.02);
        }

        /* Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª ÙˆØ§Ù„ÙˆØ¶Ø¹ÙŠØ§Øª */
        .ads-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 1.5rem;
            margin: 1.5rem 0;
        }

        .ad-item {
            padding: 1.5rem;
            background: var(--white);
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            min-height: 150px;
            transition: var(--transition);
        }

        .dark-mode .ad-item {
            background: #1a237e;
            border-color: #37474F;
        }

        .ad-item:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }

        .situations-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1.2rem;
        }

        .situation-item {
            padding: 1.2rem;
            background: var(--white);
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            transition: var(--transition);
        }

        .dark-mode .situation-item {
            background: #1a237e;
            border-color: #37474F;
        }

        .situation-item:hover {
            border-color: var(--primary);
            background: rgba(33, 150, 243, 0.05);
        }

        /* Sprachbausteine */
        .fill-blanks {
            margin: 1.5rem 0;
        }

        .blank-text {
            line-height: 2;
            margin: 1.5rem 0;
            font-size: 1.2rem;
            padding: 1.5rem;
            background: var(--white);
            border-radius: 15px;
            border: 1px solid #e0e0e0;
        }

        .dark-mode .blank-text {
            background: #1a237e;
            border-color: #37474F;
        }

        .blank {
            display: inline-block;
            min-width: 120px;
            margin: 0 8px;
            padding: 0.5rem 1rem;
            border-bottom: 3px solid var(--primary);
            text-align: center;
            font-weight: 600;
            background: var(--white);
            border-radius: 8px;
            transition: var(--transition);
        }

        .dark-mode .blank {
            background: #1a237e;
        }

        .blank-answer {
            background: rgba(76, 175, 80, 0.2);
            color: #2E7D32;
            border-color: #4CAF50;
            font-weight: bold;
        }

        .dark-mode .blank-answer {
            background: rgba(76, 175, 80, 0.3);
            color: #A5D6A7;
            border-color: #81C784;
        }

        .hidden {
            display: none;
        }

        /* Floating Elements Ù…Ø«Ù„ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
        .floating-elements {
            position: fixed;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .floating-element {
            position: absolute;
            font-size: 3.5rem;
            opacity: 0.15;
            animation: float 8s ease-in-out infinite;
            filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));
        }

        .floating-book { top: 15%; left: 8%; animation-delay: 0s; }
        .floating-pen { top: 75%; right: 12%; animation-delay: 1s; }
        .floating-globe { bottom: 20%; left: 15%; font-size: 4.5rem; animation-delay: 2s; }
        .floating-clock { top: 25%; right: 8%; animation-delay: 3s; }
        .floating-graduate { top: 65%; left: 5%; animation-delay: 4s; }
        .floating-notebook { bottom: 15%; right: 10%; animation-delay: 5s; }
        .floating-pencil { top: 45%; left: 12%; font-size: 2.8rem; animation-delay: 6s; }
        .floating-calculator { top: 35%; right: 15%; animation-delay: 7s; }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg) scale(1); }
            33% { transform: translateY(-30px) rotate(5deg) scale(1.1); }
            66% { transform: translateY(-15px) rotate(-3deg) scale(0.95); }
        }

        @media (max-width: 768px) {
            .header-controls {
                top: 15px;
                right: 15px;
                gap: 10px;
            }

            .language-selector {
                top: 15px;
                left: 15px;
            }

            .premium-badge {
                top: 70px;
                left: 15px;
                width: 35px;
                height: 35px;
            }

            .container {
                padding: 2rem;
                margin: 1rem;
                margin-top: 5rem;
            }

            .header h1 {
                font-size: 2rem;
            }

            .headings-grid {
                grid-template-columns: 1fr;
            }

            .ads-grid {
                grid-template-columns: 1fr;
            }

            .answer-controls {
                top: 0;
            }
        }

        @media (max-width: 480px) {
            .header-controls {
                gap: 8px;
            }

            .control-btn {
                width: 45px;
                height: 45px;
                font-size: 1.1rem;
            }

            .lang-btn {
                font-size: 0.8rem;
                padding: 0.4rem 0.8rem;
            }
        }
    </style>
</head>
<body>
    <!-- Floating Elements Ù…Ø«Ù„ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
    <div class="floating-elements">
        <div class="floating-element floating-book">ğŸ“š</div>
        <div class="floating-element floating-pen">âœï¸</div>
        <div class="floating-element floating-globe">ğŸŒ</div>
        <div class="floating-element floating-clock">â°</div>
        <div class="floating-element floating-graduate">ğŸ“</div>
        <div class="floating-element floating-notebook">ğŸ““</div>
        <div class="floating-element floating-pencil">âœï¸</div>
        <div class="floating-element floating-calculator">ğŸ§®</div>
    </div>

    <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø¹Ù„ÙˆÙŠØ© - ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù„Ù…Ø·Ø§Ø¨Ù‚Ø© Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
    <div class="header-controls">
        <button class="control-btn theme-toggle" id="themeToggle">ğŸŒ™</button>
        <button class="control-btn support-btn" id="supportBtn">ğŸ’¬</button>
        <button class="control-btn profile-btn" id="profileBtn">ğŸ‘¤</button>
        <button class="control-btn notes-btn" id="notesBtn">ğŸ“</button>
    </div>

    <!-- Ù…Ø­Ø¯Ø¯ Ø§Ù„Ù„ØºØ© - ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù„Ù…Ø·Ø§Ø¨Ù‚Ø© Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
    <div class="language-selector">
        <button class="lang-btn" id="langBtn">
            <span>ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</span>
        </button>
        <div class="lang-dropdown" id="langDropdown">
            <div class="lang-option" data-lang="ar">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</div>
            <div class="lang-option" data-lang="de">ğŸ‡©ğŸ‡ª Deutsch</div>
            <div class="lang-option" data-lang="en">ğŸ‡¬ğŸ‡§ English</div>
        </div>
    </div>

    <!-- Ø´Ø§Ø±Ø© Ø§Ù„Ù…Ø´ØªØ±Ùƒ Ø§Ù„Ø°Ù‡Ø¨ÙŠØ© - ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù„Ù…Ø·Ø§Ø¨Ù‚Ø© Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
    <div class="premium-badge" id="premiumBadge">
        <i class="fas fa-crown" style="color: #fff; font-size: 1.2rem;"></i>
    </div>

    <!-- Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¯Ø¹Ù… - ØªÙ…Øª Ø¥Ø¶Ø§ÙØªÙ‡Ø§ Ù„Ù…Ø·Ø§Ø¨Ù‚Ø© Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
    <div class="support-modal" id="supportModal">
        <div class="support-modal-content">
            <h2 id="supportTitle">Ø§ØªØµØ§Ù„ Ø§Ù„Ø¯Ø¹Ù…</h2>
            <div class="support-info">
                <div class="support-item">+212 649-661976</div>
                <div class="support-item">zakariaap.6@gmail.com</div>
            </div>
            <button class="close-modal" id="closeSupportModal">Ø¥ØºÙ„Ø§Ù‚</button>
        </div>
    </div>

    <div class="container">
        <div class="header">
            <h1 id="pageTitle">Umweltschutz - TELC B2 Training</h1>
            <p class="page-subtitle" id="pageSubtitle">ØªÙ…Ø±ÙŠÙ† Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© ÙˆØ§Ù„ÙÙ‡Ù… - Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø£ÙˆÙ„ ÙˆØ§Ù„Ø«Ø§Ù†ÙŠ ÙˆØ§Ù„Ø«Ø§Ù„Ø«</p>
        </div>

        <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… - ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù„Ø¬Ø¹Ù„Ù‡Ø§ Ø«Ø§Ø¨ØªØ© ÙÙŠ Ø§Ù„Ø£Ø¹Ù„Ù‰ -->
        <div class="answer-controls">
            <button class="answer-btn show-answers" id="showAnswers">
                <i class="fas fa-check-circle"></i>
                <span id="showAnswersText">Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ØªØµØ­ÙŠØ­</span>
            </button>
            <button class="answer-btn hide-answers" id="hideAnswers">
                <i class="fas fa-eye-slash"></i>
                <span id="hideAnswersText">Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ØªØµØ­ÙŠØ­</span>
            </button>
        </div>

        <!-- Lesen Teil 1 -->
        <div class="section">
            <h2 class="section-title" id="teil1Title">Lesen Teil 1</h2>
            <p id="teil1Description">Lesen Sie zuerst die zehn Ãœberschriften. Lesen Sie dann die fÃ¼nf Texte und entscheiden Sie, welche Ãœberschrift (a-j) am besten zu welchem Text (1â€“5) passt.</p>
            
            <div class="headings-grid" id="headingsList">
                <!-- Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
            </div>

            <div id="textsList">
                <!-- Ø§Ù„Ù†ØµÙˆØµ Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
            </div>
        </div>

        <!-- Lesen Teil 2 -->
        <div class="section">
            <h2 class="section-title" id="teil2Title">Lesen Teil 2</h2>
            <div class="text-content" id="longText">
                <!-- Ø§Ù„Ù†Øµ Ø§Ù„Ø·ÙˆÙŠÙ„ Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
            </div>

            <div id="questionsList">
                <!-- Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
            </div>
        </div>

        <!-- Lesen Teil 3 -->
        <div class="section">
            <h2 class="section-title" id="teil3Title">Lesen Teil 3</h2>
            <p id="teil3Description">Lesen Sie zuerst die zehn Situationen (11â€“20) und dann die zwÃ¶lÙ Info-Texte (aâ€“l). Welcher Info-Text passt zu welcher Situation?</p>
            
            <div class="situations-grid" id="situationsList">
                <!-- Ø§Ù„ÙˆØ¶Ø¹ÙŠØ§Øª Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
            </div>

            <div class="ads-grid" id="adsList">
                <!-- Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
            </div>
        </div>

        <!-- Sprachbausteine Teil 1 -->
        <div class="section">
            <h2 class="section-title" id="sprach1Title">Sprachbausteine Teil 1</h2>
            <div class="fill-blanks">
                <div class="blank-text" id="blankText1">
                    <!-- Ø§Ù„Ù†Øµ Ø¨Ø§Ù„ÙØ±Ø§ØºØ§Øª Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                </div>
            </div>
        </div>

        <!-- Sprachbausteine Teil 2 -->
        <div class="section">
            <h2 class="section-title" id="sprach2Title">Sprachbausteine Teil 2</h2>
            <div class="fill-blanks">
                <div class="blank-text" id="blankText2">
                    <!-- Ø§Ù„Ù†Øµ Ø¨Ø§Ù„ÙØ±Ø§ØºØ§Øª Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // Ø§Ù„ØªØ±Ø¬Ù…Ø§Øª
        const translations = {
            ar: {
                homeText: "Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",
                themeText: "Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ",
                langText: "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©", 
                userText: "Ø²Ø§Ø¦Ø±",
                pageTitle: "Umweltschutz - TELC B2 Training",
                pageSubtitle: "ØªÙ…Ø±ÙŠÙ† Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© ÙˆØ§Ù„ÙÙ‡Ù… - Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø£ÙˆÙ„ ÙˆØ§Ù„Ø«Ø§Ù†ÙŠ ÙˆØ§Ù„Ø«Ø§Ù„Ø«",
                showAnswersText: "Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ØªØµØ­ÙŠØ­",
                hideAnswersText: "Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ØªØµØ­ÙŠØ­",
                teil1Title: "Lesen Teil 1",
                teil1Description: "Lesen Sie zuerst die zehn Ãœberschriften. Lesen Sie dann die fÃ¼nf Texte und entscheiden Sie, welche Ãœberschrift (a-j) am besten zu welchem Text (1â€“5) passt.",
                teil2Title: "Lesen Teil 2", 
                teil3Title: "Lesen Teil 3",
                teil3Description: "Lesen Sie zuerst die zehn Situationen (11â€“20) und dann die zwÃ¶lÙ Info-Texte (aâ€“l). Welcher Info-Text passt zu welcher Situation?",
                sprach1Title: "Sprachbausteine Teil 1",
                sprach2Title: "Sprachbausteine Teil 2",
                supportTitle: "Ø§ØªØµØ§Ù„ Ø§Ù„Ø¯Ø¹Ù…"
            },
            de: {
                homeText: "Startseite",
                themeText: "Nachtmodus", 
                langText: "Deutsch",
                userText: "Besucher",
                pageTitle: "Umweltschutz - TELC B2 Training",
                pageSubtitle: "Leseverstehen - Teil 1, 2 und 3",
                showAnswersText: "Korrektur anzeigen",
                hideAnswersText: "Korrektur ausblenden",
                teil1Title: "Lesen Teil 1",
                teil1Description: "Lesen Sie zuerst die zehn Ãœberschriften. Lesen Sie dann die fÃ¼nf Texte und entscheiden Sie, welche Ãœberschrift (a-j) am besten zu welchem Text (1â€“5) passt.",
                teil2Title: "Lesen Teil 2",
                teil3Title: "Lesen Teil 3", 
                teil3Description: "Lesen Sie zuerst die zehn Situationen (11â€“20) und dann die zwÃ¶lf Info-Texte (aâ€“l). Welcher Info-Text passt zu welcher Situation?",
                sprach1Title: "Sprachbausteine Teil 1",
                sprach2Title: "Sprachbausteine Teil 2",
                supportTitle: "Support Kontakt"
            },
            en: {
                homeText: "Home",
                themeText: "Dark Mode",
                langText: "English",
                userText: "Visitor", 
                pageTitle: "Umweltschutz - TELC B2 Training",
                pageSubtitle: "Reading Comprehension - Part 1, 2 and 3",
                showAnswersText: "Show Correction",
                hideAnswersText: "Hide Correction",
                teil1Title: "Reading Part 1",
                teil1Description: "First read the ten headings. Then read the five texts and decide which heading (a-j) best matches which text (1-5).",
                teil2Title: "Reading Part 2",
                teil3Title: "Reading Part 3",
                teil3Description: "First read the ten situations (11-20) and then the twelve info texts (a-l). Which info text matches which situation?",
                sprach1Title: "Language Elements Part 1", 
                sprach2Title: "Language Elements Part 2",
                supportTitle: "Support Contact"
            }
        };

        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ÙˆØ§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ù…Ù† Ù…Ù„Ù PDF
        const examData = {
            // Lesen Teil 1
            headings: [
                "Gemeinsam kaputte GerÃ¤te retten",
                "Kaufsucht Ã¼berwinden diese MÃ¶glichkeiten gibt es",
                "Neue Besitzer fÃ¼r nicht gebrauchte GegenstÃ¤nde",
                "Reparatur alter HaushaltsgerÃ¤te lohnt oft nicht",
                "RÃ¼cksendungen verderben Online-HÃ¤ndlern das GeschÃ¤ft",
                "RÃ¼cksendungen verringern: HÃ¤ndler hoffen auf LÃ¶sungen",
                "Studie: So wirkt sich Kleidung auf die Wahrnehmung aus",
                "Tipps fÃ¼r einen nachhaltigen Kleiderschrank",
                "Umfrage: So viel Kleidung besitzen die Deutschen",
                "Weniger Kleidung kaufen: So kann es gelingen"
            ],
            texts: [
                {
                    content: "Viele Menschen haben zu Hause Dinge, die sie nicht mehr brauchen. Statt sie wegzuwerfen, kann man sie auch verschenken oder verkaufen. Das schont die Umwelt und spart Ressourcen. Im Internet gibt es verschiedene Plattformen, auf denen man solche GegenstÃ¤nde anbieten kann. Manchmal findet man auch selbst etwas, das man gut gebrauchen kann.",
                    correctHeading: 2
                },
                {
                    content: "Wenn ein HaushaltsgerÃ¤t kaputt geht, Ã¼berlegt man oft, ob man es reparieren lassen soll. Doch viele Reparaturen sind teurer als ein neues GerÃ¤t. Zudem sind Ersatzteile oft schwer zu finden. Deshalb entscheiden sich viele Menschen fÃ¼r einen Neukauf, auch wenn das nicht umweltfreundlich ist.",
                    correctHeading: 3
                },
                {
                    content: "In vielen StÃ¤dten gibt es mittlerweile Repair-CafÃ©s. Dort treffen sich Menschen, um gemeinsam kaputte Dinge zu reparieren. Ehrenamtliche Helfer unterstÃ¼tzen sie dabei. So kann man nicht nur Geld sparen, sondern auch neue Leute kennenlernen und etwas fÃ¼r die Umwelt tun.",
                    correctHeading: 0
                },
                {
                    content: "Die Deutschen besitzen durchschnittlich 95 KleidungsstÃ¼cke. Das hat eine aktuelle Umfrage ergeben. Frauen haben dabei mehr Kleidung als MÃ¤nner. Besonders viele Teile finden sich in den KleiderschrÃ¤nken junger Menschen. Viele davon werden selten oder nie getragen.",
                    correctHeading: 8
                },
                {
                    content: "Kleidung beeinflusst, wie andere Menschen uns wahrnehmen. Eine Studie zeigt, dass bestimmte Farben und Schnelle mit bestimmten Eigenschaften in Verbindung gebracht werden. So wirken Menschen in dunkler Business-Kleidung beispielsweise kompetenter als in Freizeitkleidung.",
                    correctHeading: 6
                }
            ],
            
            // Lesen Teil 2
            longText: {
                title: "Nachhaltiger Umgang mit Kleidung",
                content: "Die Textilindustrie gehÃ¶rt zu den umweltschÃ¤dlichsten Branchen weltweit. Bei der Herstellung von Kleidung werden enorme Mengen an Wasser verbraucht und Chemikalien eingesetzt. Gleichzeitig landen viele KleidungsstÃ¼cke nach kurzer Tragezeit im MÃ¼ll. Dabei gibt es viele MÃ¶glichkeiten, nachhaltiger mit Kleidung umzugehen.",
                paragraphs: [
                    "ZunÃ¤chst sollte man sich vor jedem Kauf fragen, ob man das KleidungsstÃ¼ck wirklich braucht. Oft kaufen wir Dinge, die wir spÃ¤ter kaum tragen. Eine gute MÃ¶glichkeit ist es, eine Kleiderpause einzulegen und fÃ¼r eine bestimmte Zeit keine neuen Teile zu kaufen.",
                    "Second-Hand-Kleidung ist eine umweltfreundliche Alternative. In vielen StÃ¤dten gibt es inzwischen gut sortierte Second-Hand-LÃ¤den, in denen man qualitativ hochwertige Kleidung findet. Auch online kann man gebrauchte Kleidung kaufen und verkaufen.",
                    "Die Pflege der Kleidung spielt ebenfalls eine wichtige Rolle. WÃ¤sche bei niedrigeren Temperaturen waschen und auf den Trockner verzichten spart Energie. KleidungsstÃ¼cke sollten auÃŸerdem repariert statt weggeworfen werden.",
                    "Beim Neukauf sollte man auf nachhaltige Materialien und faire Produktionsbedingungen achten. Zertifikate wie GOTS oder Fairtrade geben hier Orientierung. QualitÃ¤t geht vor QuantitÃ¤t - lieber weniger Teile, die dafÃ¼r lÃ¤nger halten."
                ]
            },
            questions: [
                {
                    question: "Warum ist die Textilindustrie problematisch fÃ¼r die Umwelt?",
                    options: [
                        "Weil Kleidung zu billig ist",
                        "Weil zu viel Wasser und Chemikalien verwendet werden", 
                        "Weil zu wenig Kleidung produziert wird",
                        "Weil Kleidung zu lange getragen wird"
                    ],
                    correct: 1
                },
                {
                    question: "Was ist eine Kleiderpause?",
                    options: [
                        "Kleidung in der Pause tragen",
                        "FÃ¼r eine Zeit keine neue Kleidung kaufen",
                        "Alte Kleidung wegwerfen",
                        "Nur Second-Hand-Kleidung kaufen"
                    ],
                    correct: 1
                },
                {
                    question: "Wo kann man Second-Hand-Kleidung finden?",
                    options: [
                        "Nur online",
                        "Nur in groÃŸen StÃ¤dten", 
                        "In Second-Hand-LÃ¤den und online",
                        "Nur auf FlohmÃ¤rkten"
                    ],
                    correct: 2
                },
                {
                    question: "Wie kann man Energie bei der Kleiderpflege sparen?",
                    options: [
                        "Immer bei hohen Temperaturen waschen",
                        "Immer den Trockner benutzen",
                        "Bei niedrigeren Temperaturen waschen und auf Trockner verzichten",
                        "Kleidung nie waschen"
                    ],
                    correct: 2
                },
                {
                    question: "Worauf sollte man beim Neukauf achten?",
                    options: [
                        "Nur auf den Preis",
                        "Auf nachhaltige Materialien und faire Produktion",
                        "Auf die neuesten Trends",
                        "Auf mÃ¶glichst viele Teile"
                    ],
                    correct: 1
                }
            ],
            
            // Lesen Teil 3
            situations: [
                "Sie haben einen kaputten Toaster und mÃ¶chten ihn reparieren lassen, ohne viel Geld auszugeben.",
                "Sie besitzen viele KleidungsstÃ¼cke, die Sie nicht mehr tragen, und mÃ¶chten sie loswerden.",
                "Sie mÃ¶chten weniger Kleidung kaufen, wissen aber nicht, wie Sie anfangen sollen.",
                "Sie interessieren sich fÃ¼r die psychologische Wirkung von Kleidung.",
                "Sie mÃ¶chten wissen, wie viel Kleidung Deutsche durchschnittlich besitzen.",
                "Sie Ã¼berlegen, ob Sie Ihren kaputten Mixer reparieren oder neu kaufen sollen.",
                "Sie mÃ¶chten Ihre Kleidung umweltfreundlicher pflegen.",
                "Sie suchen nach MÃ¶glichkeiten, Ihre Kaufsucht in den Griff zu bekommen.",
                "Sie mÃ¶chten Kleidung nachhaltig kaufen und suchen entsprechende Zertifikate.",
                "Sie handeln online und mÃ¶chten wissen, wie sich RÃ¼cksendungen auf HÃ¤ndler auswirken."
            ],
            ads: [
                {
                    content: "Repair-CafÃ© in Ihrer Stadt: Jeden Samstag von 14-18 Uhr. Ehrenamtliche Helfer unterstÃ¼tzen Sie bei Reparaturen. Kostenlos, Spenden willkommen.",
                    matches: [0]
                },
                {
                    content: "Kleidertauschparty: Bringen Sie gut erhaltene Kleidung mit und tauschen Sie sie gegen neue Lieblingsteile. NÃ¤chster Termin: 15. Mai, Stadtzentrum.",
                    matches: [1]
                },
                {
                    content: "Online-Kurs 'Weniger konsumieren': Lernen Sie in 4 Wochen Strategien gegen ImpulskÃ¤ufe. Start jeden Monat. Kosten: 49â‚¬.",
                    matches: [2, 7]
                },
                {
                    content: "Buchtipp: 'Die Psychologie der Kleidung' - Wie unser Outfit unsere Wirkung beeinflusst. Jetzt im Buchhandel erhÃ¤ltlich.",
                    matches: [3]
                },
                {
                    content: "Studie: 'Kleiderkonsum in Deutschland' - Aktuelle Zahlen und Trends. Kostenloser Download auf unserer Website.",
                    matches: [4]
                },
                {
                    content: "Reparatur vs. Neukauf: Unser Online-Rechner hilft bei der Entscheidung. Einfach GerÃ¤tetyp und Defekt eingeben.",
                    matches: [5]
                },
                {
                    content: "Ã–ko-Waschmittel und TrockenstÃ¤nder: Unsere nachhaltigen Pflegeprodukte schonen Umwelt und Kleidung. Im Bio-Markt erhÃ¤ltlich.",
                    matches: [6]
                },
                {
                    content: "Selbsthilfegruppe Kaufsucht: RegelmÃ¤ÃŸige Treffen, anonym, kostenfrei. Erster Schritt zur VerÃ¤nderung.",
                    matches: [7]
                },
                {
                    content: "Nachhaltige Mode-Labels mit GOTS-Zertifikat: Ãœbersicht und Bezugsquellen in unserem EinkaufsfÃ¼hrer.",
                    matches: [8]
                },
                {
                    content: "HÃ¤ndler-Umfrage: Wie Online-Shops mit Retouren umgehen. Spannende Einblicke in den E-Commerce.",
                    matches: [9]
                }
            ],
            
            // Sprachbausteine Teil 1
            blankText1: {
                text: "Die Textilindustrie ___ zu den umweltschÃ¤dlichsten Branchen weltweit. Bei der Herstellung von Kleidung ___ enorme Mengen an Wasser verbraucht und Chemikalien eingesetzt. Gleichzeitig ___ viele KleidungsstÃ¼cke nach kurzer Tragezeit im MÃ¼ll. Dabei ___ es viele MÃ¶glichkeiten, nachhaltiger mit Kleidung umzugehen.",
                blanks: [
                    { options: ["gehÃ¶rt", "gehÃ¶ren", "gehÃ¶rende", "gehÃ¶rtet"], correct: 0 },
                    { options: ["werden", "wird", "worden", "wÃ¼rde"], correct: 0 },
                    { options: ["landen", "landet", "gelandet", "landend"], correct: 0 },
                    { options: ["gibt", "geben", "gegeben", "gÃ¤be"], correct: 0 }
                ]
            },
            
            // Sprachbausteine Teil 2
            blankText2: {
                text: "Second-Hand-Kleidung ___ eine umweltfreundliche Alternative. In vielen StÃ¤dten ___ es inzwischen gut sortierte Second-Hand-LÃ¤den, in ___ man qualitativ hochwertige Kleidung findet. Auch online ___ man gebrauchte Kleidung kaufen und verkaufen.",
                blanks: [
                    { options: ["ist", "sind", "war", "wÃ¤re"], correct: 0 },
                    { options: ["gibt", "geben", "gegeben", "gÃ¤be"], correct: 0 },
                    { options: ["denen", "der", "die", "das"], correct: 0 },
                    { options: ["kann", "kÃ¶nnen", "konnte", "kÃ¶nnte"], correct: 0 }
                ]
            }
        };

        document.addEventListener('DOMContentLoaded', function() {
            // Ø§Ù„Ø¹Ù†Ø§ØµØ±
            const themeToggle = document.getElementById('themeToggle');
            const supportBtn = document.getElementById('supportBtn');
            const profileBtn = document.getElementById('profileBtn');
            const notesBtn = document.getElementById('notesBtn');
            const langBtn = document.getElementById('langBtn');
            const langDropdown = document.getElementById('langDropdown');
            const supportModal = document.getElementById('supportModal');
            const closeSupportModal = document.getElementById('closeSupportModal');
            const premiumBadge = document.getElementById('premiumBadge');
            const showAnswersBtn = document.getElementById('showAnswers');
            const hideAnswersBtn = document.getElementById('hideAnswers');

            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
            const savedDarkMode = localStorage.getItem('darkMode') === 'true';
            const savedLanguage = localStorage.getItem('language') || 'ar';

            // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
            if (savedDarkMode) {
                document.body.classList.add('dark-mode');
                themeToggle.textContent = 'â˜€ï¸';
            }

            // ØªØºÙŠÙŠØ± Ø§Ù„Ù„ØºØ©
            function changeLanguage(lang) {
                localStorage.setItem('language', lang);
                const langTexts = {
                    ar: 'ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©',
                    de: 'ğŸ‡©ğŸ‡ª Deutsch', 
                    en: 'ğŸ‡¬ğŸ‡§ English'
                };
                langBtn.innerHTML = `<span>${langTexts[lang]}</span>`;
                document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
                document.documentElement.lang = lang;
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†ØµÙˆØµ
                Object.keys(translations[lang]).forEach(key => {
                    const element = document.getElementById(key);
                    if (element) {
                        element.textContent = translations[lang][key];
                    }
                });
            }

            // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù„ØºØ© Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
            changeLanguage(savedLanguage);

            // Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ù„Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¹Ù„ÙˆÙŠØ©
            themeToggle.addEventListener('click', function() {
                document.body.classList.toggle('dark-mode');
                themeToggle.textContent = document.body.classList.contains('dark-mode') ? 'â˜€ï¸' : 'ğŸŒ™';
                localStorage.setItem('darkMode', document.body.classList.contains('dark-mode'));
            });

            supportBtn.addEventListener('click', function() {
                supportModal.style.display = 'flex';
            });

            profileBtn.addEventListener('click', function() {
                window.location.href = 'index.html#profile';
            });

            notesBtn.addEventListener('click', function() {
                window.location.href = 'index.html#notes';
            });

            closeSupportModal.addEventListener('click', function() {
                supportModal.style.display = 'none';
            });

            supportModal.addEventListener('click', function(e) {
                if (e.target === supportModal) {
                    supportModal.style.display = 'none';
                }
            });

            // Ù…Ø­Ø¯Ø¯ Ø§Ù„Ù„ØºØ©
            langBtn.addEventListener('click', function() {
                langDropdown.classList.toggle('show');
            });

            document.querySelectorAll('.lang-option').forEach(option => {
                option.addEventListener('click', function() {
                    const lang = this.getAttribute('data-lang');
                    changeLanguage(lang);
                    langDropdown.classList.remove('show');
                });
            });

            // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø© Ø¨Ø§Ù„Ù†Ù‚Ø± Ø®Ø§Ø±Ø¬Ù‡Ø§
            document.addEventListener('click', function(e) {
                if (!e.target.closest('.language-selector')) {
                    langDropdown.classList.remove('show');
                }
            });

            // Ø²Ø± Ø§Ù„Ø¨Ø±ÙŠÙ…ÙŠÙˆÙ…
            premiumBadge.addEventListener('click', function() {
                alert('Ø£Ù†Øª Ù…Ø´ØªØ±Ùƒ! Ø´ÙƒØ±Ø§Ù‹ Ø¹Ù„Ù‰ Ø¯Ø¹Ù…Ùƒ ğŸ’');
            });

            // Ø¹Ø±Ø¶/Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª
            let answersVisible = false;

            showAnswersBtn.addEventListener('click', function() {
                showAllAnswers();
                answersVisible = true;
            });

            hideAnswersBtn.addEventListener('click', function() {
                hideAllAnswers();
                answersVisible = false;
            });

            // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰
            initializeContent();

            function initializeContent() {
                // Lesen Teil 1
                const headingsList = document.getElementById('headingsList');
                const textsList = document.getElementById('textsList');
                
                // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ†
                examData.headings.forEach((heading, index) => {
                    const headingElement = document.createElement('div');
                    headingElement.className = 'heading-item';
                    headingElement.textContent = `${String.fromCharCode(97 + index)}) ${heading}`;
                    headingElement.dataset.index = index;
                    headingsList.appendChild(headingElement);
                });

                // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù†ØµÙˆØµ
                examData.texts.forEach((text, index) => {
                    const textElement = document.createElement('div');
                    textElement.className = 'question';
                    textElement.innerHTML = `
                        <h3>Text ${index + 1}</h3>
                        <p>${text.content}</p>
                        <div class="answer correct-answer hidden" id="answerTeil1Text${index + 1}">
                            Richtige Ãœberschrift: ${String.fromCharCode(97 + text.correctHeading)}) ${examData.headings[text.correctHeading]}
                        </div>
                    `;
                    textsList.appendChild(textElement);
                });

                // Lesen Teil 2
                const longTextElement = document.getElementById('longText');
                longTextElement.innerHTML = `
                    <h3>${examData.longText.title}</h3>
                    <p>${examData.longText.content}</p>
                    ${examData.longText.paragraphs.map(p => `<p>${p}</p>`).join('')}
                `;

                const questionsList = document.getElementById('questionsList');
                examData.questions.forEach((q, index) => {
                    const questionElement = document.createElement('div');
                    questionElement.className = 'question';
                    questionElement.innerHTML = `
                        <h3>Frage ${index + 1}</h3>
                        <p>${q.question}</p>
                        <div class="options">
                            ${q.options.map((option, optIndex) => `
                                <div class="option" data-question="${index}" data-option="${optIndex}">
                                    ${String.fromCharCode(97 + optIndex)}) ${option}
                                </div>
                            `).join('')}
                        </div>
                        <div class="answer correct-answer hidden" id="answerTeil2Question${index + 1}">
                            Richtige Antwort: ${String.fromCharCode(97 + q.correct)}) ${q.options[q.correct]}
                        </div>
                    `;
                    questionsList.appendChild(questionElement);
                });

                // Lesen Teil 3
                const situationsList = document.getElementById('situationsList');
                const adsList = document.getElementById('adsList');

                examData.situations.forEach((situation, index) => {
                    const situationElement = document.createElement('div');
                    situationElement.className = 'situation-item';
                    situationElement.innerHTML = `
                        <strong>Situation ${index + 11}:</strong> ${situation}
                        <div class="answer correct-answer hidden" id="answerTeil3Situation${index + 11}">
                            ${getCorrectAdsForSituation(index)}
                        </div>
                    `;
                    situationsList.appendChild(situationElement);
                });

                examData.ads.forEach((ad, index) => {
                    const adElement = document.createElement('div');
                    adElement.className = 'ad-item';
                    adElement.innerHTML = `
                        <strong>Text ${String.fromCharCode(97 + index)}:</strong> ${ad.content}
                    `;
                    adsList.appendChild(adElement);
                });

                // Sprachbausteine Teil 1
                const blankText1Element = document.getElementById('blankText1');
                blankText1Element.innerHTML = generateBlankText(examData.blankText1, 'sprach1');

                // Sprachbausteine Teil 2
                const blankText2Element = document.getElementById('blankText2');
                blankText2Element.innerHTML = generateBlankText(examData.blankText2, 'sprach2');
            }

            function generateBlankText(blankData, prefix) {
                const parts = blankData.text.split(/(___)/);
                let blankIndex = 0;
                
                return parts.map(part => {
                    if (part === '___') {
                        const blank = blankData.blanks[blankIndex];
                        blankIndex++;
                        return `
                            <span class="blank" id="${prefix}Blank${blankIndex}">
                                ${blank.options[blank.correct]}
                            </span>
                        `;
                    }
                    return part;
                }).join('');
            }

            function getCorrectAdsForSituation(situationIndex) {
                const matchingAds = examData.ads.filter(ad => ad.matches.includes(situationIndex));
                return matchingAds.map(ad => {
                    const adIndex = examData.ads.indexOf(ad);
                    return `Text ${String.fromCharCode(97 + adIndex)}`;
                }).join(', ');
            }

            function showAllAnswers() {
                // Ø¥Ø¸Ù‡Ø§Ø± Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª
                document.querySelectorAll('.answer').forEach(answer => {
                    answer.classList.remove('hidden');
                });

                // ØªÙ„ÙˆÙŠÙ† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„ØµØ­ÙŠØ­Ø© ÙÙŠ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
                document.querySelectorAll('.option').forEach(option => {
                    const questionIndex = parseInt(option.dataset.question);
                    const optionIndex = parseInt(option.dataset.option);
                    const question = examData.questions[questionIndex];
                    
                    if (optionIndex === question.correct) {
                        option.classList.add('correct');
                    } else {
                        option.classList.add('incorrect');
                    }
                });
            }

            function hideAllAnswers() {
                // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª
                document.querySelectorAll('.answer').forEach(answer => {
                    answer.classList.add('hidden');
                });

                // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªÙ„ÙˆÙŠÙ†
                document.querySelectorAll('.option').forEach(option => {
                    option.classList.remove('correct', 'incorrect');
                });
            }
        });
    </script>
</body>
</html>